<div class="d-flex justify-content-center">
  <div class="col-8">
    <form name="editForm" novalidate (ngSubmit)="save()" [formGroup]="editForm">
      <h2 id="jhi-fiche-von-willebrand-heading" data-cy="FicheVonWillebrandCreateUpdateHeading">Créer ou éditer un Fiche Von Willebrand</h2>

      <div>
        <jhi-alert-error></jhi-alert-error>

        @if (editForm.controls.id.value !== null) {
          <div class="mb-3">
            <label class="form-label" for="field_id">ID</label>
            <input type="number" class="form-control" name="id" id="field_id" data-cy="id" formControlName="id" [readonly]="true" />
          </div>
        }

       <div class="accordion" id="ficheAccordion">
          <!-- Accordéon Section 1: Identification -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingIdentification">
              <button
                class="accordion-button"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseIdentification"
                aria-expanded="true"
                aria-controls="collapseIdentification"
              >
                Identification
              </button>
            </h2>
            <div
              id="collapseIdentification"
              class="accordion-collapse collapse show"
              aria-labelledby="headingIdentification"
              data-bs-parent="#ficheAccordion"
            >
              <div class="accordion-body">
                <!-- Champs pour la section Identification -->
                

        <div class="mb-3">
          <label class="form-label" for="field_dossierNumber">Dossier Number</label>
          <input
            type="text"
            class="form-control"
            name="dossierNumber"
            id="field_dossierNumber"
            data-cy="dossierNumber"
            formControlName="dossierNumber"
          />
        </div>

        @let ordreNumberRef = editForm.get('ordreNumber')!;
        <div class="mb-3">
          <label class="form-label" for="field_ordreNumber">Ordre Number</label>
          <input
            type="text"
            class="form-control"
            name="ordreNumber"
            id="field_ordreNumber"
            data-cy="ordreNumber"
            formControlName="ordreNumber"
          />
          @if (ordreNumberRef.invalid && (ordreNumberRef.dirty || ordreNumberRef.touched)) {
            <div>
              @if (editForm.get('ordreNumber')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let indexNumberRef = editForm.get('indexNumber')!;
        <div class="mb-3">
          <label class="form-label" for="field_indexNumber">Index Number</label>
          <input
            type="text"
            class="form-control"
            name="indexNumber"
            id="field_indexNumber"
            data-cy="indexNumber"
            formControlName="indexNumber"
          />
          @if (indexNumberRef.invalid && (indexNumberRef.dirty || indexNumberRef.touched)) {
            <div>
              @if (editForm.get('indexNumber')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let prenomRef = editForm.get('prenom')!;
        <div class="mb-3">
          <label class="form-label" for="field_prenom">Prenom</label>
          <input type="text" class="form-control" name="prenom" id="field_prenom" data-cy="prenom" formControlName="prenom" />
          @if (prenomRef.invalid && (prenomRef.dirty || prenomRef.touched)) {
            <div>
              @if (editForm.get('prenom')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let nomRef = editForm.get('nom')!;
        <div class="mb-3">
          <label class="form-label" for="field_nom">Nom</label>
          <input type="text" class="form-control" name="nom" id="field_nom" data-cy="nom" formControlName="nom" />
          @if (nomRef.invalid && (nomRef.dirty || nomRef.touched)) {
            <div>
              @if (editForm.get('nom')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let nomJeuneFilleRef = editForm.get('nomJeuneFille')!;
        <div class="mb-3">
          <label class="form-label" for="field_nomJeuneFille">Nom Jeune Fille</label>
          <input
            type="text"
            class="form-control"
            name="nomJeuneFille"
            id="field_nomJeuneFille"
            data-cy="nomJeuneFille"
            formControlName="nomJeuneFille"
          />
          @if (nomJeuneFilleRef.invalid && (nomJeuneFilleRef.dirty || nomJeuneFilleRef.touched)) {
            <div>
              @if (editForm.get('nomJeuneFille')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let professionRef = editForm.get('profession')!;
        <div class="mb-3">
          <label class="form-label" for="field_profession">Profession</label>
          <input
            type="text"
            class="form-control"
            name="profession"
            id="field_profession"
            data-cy="profession"
            formControlName="profession"
          />
          @if (professionRef.invalid && (professionRef.dirty || professionRef.touched)) {
            <div>
              @if (editForm.get('profession')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let etatCivilRef = editForm.get('etatCivil')!;
        <div class="mb-3">
          <label class="form-label" for="field_etatCivil">Etat Civil</label>
          <select class="form-control" name="etatCivil" formControlName="etatCivil" id="field_etatCivil" data-cy="etatCivil">
            <option [ngValue]="null"></option>
            @for (civilStatus of civilStatusValues; track $index) {
              <option [value]="civilStatus">
                {{ { null: '', CELIBATAIRE: 'CELIBATAIRE', MARIE: 'MARIE', DIVORCE: 'DIVORCE', NP: 'NP' }[civilStatus] }}
              </option>
            }
          </select>
          @if (etatCivilRef.invalid && (etatCivilRef.dirty || etatCivilRef.touched)) {
            <div>
              @if (editForm.get('etatCivil')?.errors?.required) {
                <small class="form-text text-danger">Ce champ est obligatoire.</small>
              }
            </div>
          }
        </div>

        @let serviceCliniqueRef = editForm.get('serviceClinique')!;
        <div class="mb-3">
          <label class="form-label" for="field_serviceClinique">Service Clinique</label>
          <select
            class="form-control"
            name="serviceClinique"
            formControlName="serviceClinique"
            id="field_serviceClinique"
            data-cy="serviceClinique"
          >
            <option [ngValue]="null"></option>
            @for (serviceCliniqueType of serviceCliniqueTypeValues; track $index) {
              <option [value]="serviceCliniqueType">
                {{
                  {
                    null: '',
                    HTO: 'HTO',
                    PRIVE: 'PRIVE',
                    PEDIATRIE_A: 'PEDIATRIE_A',
                    PEDIATRIE_B: 'PEDIATRIE_B',
                    PUR: 'PUR',
                    GYNECO: 'GYNECO',
                    AUTRE: 'AUTRE',
                  }[serviceCliniqueType]
                }}
              </option>
            }
          </select>
          @if (serviceCliniqueRef.invalid && (serviceCliniqueRef.dirty || serviceCliniqueRef.touched)) {
            <div>
              @if (editForm.get('serviceClinique')?.errors?.required) {
                <small class="form-text text-danger">Ce champ est obligatoire.</small>
              }
            </div>
          }
        </div>

        @let autreServiceCliniqueRef = editForm.get('autreServiceClinique')!;
        <div class="mb-3">
          <label class="form-label" for="field_autreServiceClinique">Autre Service Clinique</label>
          <input
            type="text"
            class="form-control"
            name="autreServiceClinique"
            id="field_autreServiceClinique"
            data-cy="autreServiceClinique"
            formControlName="autreServiceClinique"
          />
          @if (autreServiceCliniqueRef.invalid && (autreServiceCliniqueRef.dirty || autreServiceCliniqueRef.touched)) {
            <div>
              @if (editForm.get('autreServiceClinique')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
              }
            </div>
          }
        </div>

        @let couvertureSocialeRef = editForm.get('couvertureSociale')!;
        <div class="mb-3">
          <label class="form-label" for="field_couvertureSociale">Couverture Sociale</label>
          <select
            class="form-control"
            name="couvertureSociale"
            formControlName="couvertureSociale"
            id="field_couvertureSociale"
            data-cy="couvertureSociale"
          >
            <option [ngValue]="null"></option>
            @for (couvertureSociale of couvertureSocialeValues; track $index) {
              <option [value]="couvertureSociale">
                {{ { null: '', CNAM: 'CNAM', INDIGENT: 'INDIGENT', NP: 'NP' }[couvertureSociale] }}
              </option>
            }
          </select>
          @if (couvertureSocialeRef.invalid && (couvertureSocialeRef.dirty || couvertureSocialeRef.touched)) {
            <div>
              @if (editForm.get('couvertureSociale')?.errors?.required) {
                <small class="form-text text-danger">Ce champ est obligatoire.</small>
              }
            </div>
          }
        </div>

        @let sexeRef = editForm.get('sexe')!;
        <div class="mb-3">
          <label class="form-label" for="field_sexe">Sexe</label>
          <select class="form-control" name="sexe" formControlName="sexe" id="field_sexe" data-cy="sexe">
            <option [ngValue]="null"></option>
            @for (gender of genderValues; track $index) {
              <option [value]="gender">{{ { null: '', MASCULIN: 'MASCULIN', FEMININ: 'FEMININ' }[gender] }}</option>
            }
          </select>
          @if (sexeRef.invalid && (sexeRef.dirty || sexeRef.touched)) {
            <div>
              @if (editForm.get('sexe')?.errors?.required) {
                <small class="form-text text-danger">Ce champ est obligatoire.</small>
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_dateNaissance">Date Naissance</label>
          <div class="input-group">
            <input
              id="field_dateNaissance"
              data-cy="dateNaissance"
              type="text"
              class="form-control"
              name="dateNaissance"
              ngbDatepicker
              #dateNaissanceDp="ngbDatepicker"
              formControlName="dateNaissance"
            />
            <button type="button" class="btn btn-secondary" (click)="dateNaissanceDp.toggle()">
              <fa-icon icon="calendar-alt"></fa-icon>
            </button>
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_ageActuel">Age Actuel</label>
          <input type="number" class="form-control" name="ageActuel" id="field_ageActuel" data-cy="ageActuel" formControlName="ageActuel" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_origine">Origine</label>
          <select class="form-control" name="origine" formControlName="origine" id="field_origine" data-cy="origine">
            <option [ngValue]="null"></option>
            @for (region of regionValues; track $index) {
              <option [value]="region">
                {{
                  {
                    null: '',
                    SFAX: 'SFAX',
                    GABES: 'GABES',
                    GAFSA: 'GAFSA',
                    KEBILI: 'KEBILI',
                    TOZEUR: 'TOZEUR',
                    MEDNINE: 'MEDNINE',
                    TATAOUINE: 'TATAOUINE',
                    SBZ: 'SBZ',
                    KASSERINE: 'KASSERINE',
                    MAHDIA: 'MAHDIA',
                    KAIRAOUANE: 'KAIRAOUANE',
                    MONASTIR: 'MONASTIR',
                    SOUSSE: 'SOUSSE',
                    AUTRE: 'AUTRE',
                  }[region]
                }}
              </option>
            }
          </select>
        </div>

        @let autreOrigineRef = editForm.get('autreOrigine')!;
        <div class="mb-3">
          <label class="form-label" for="field_autreOrigine">Autre Origine</label>
          <input
            type="text"
            class="form-control"
            name="autreOrigine"
            id="field_autreOrigine"
            data-cy="autreOrigine"
            formControlName="autreOrigine"
          />
          @if (autreOrigineRef.invalid && (autreOrigineRef.dirty || autreOrigineRef.touched)) {
            <div>
              @if (editForm.get('autreOrigine')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let adresseRef = editForm.get('adresse')!;
        <div class="mb-3">
          <label class="form-label" for="field_adresse">Adresse</label>
          <input type="text" class="form-control" name="adresse" id="field_adresse" data-cy="adresse" formControlName="adresse" />
          @if (adresseRef.invalid && (adresseRef.dirty || adresseRef.touched)) {
            <div>
              @if (editForm.get('adresse')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let telephoneRef = editForm.get('telephone')!;
        <div class="mb-3">
          <label class="form-label" for="field_telephone">Telephone</label>
          <input type="text" class="form-control" name="telephone" id="field_telephone" data-cy="telephone" formControlName="telephone" />
          @if (telephoneRef.invalid && (telephoneRef.dirty || telephoneRef.touched)) {
            <div>
              @if (editForm.get('telephone')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 20 caractères.</small>
              }
            </div>
          }
        </div>

        @let prenomPereRef = editForm.get('prenomPere')!;
        <div class="mb-3">
          <label class="form-label" for="field_prenomPere">Prenom Pere</label>
          <input
            type="text"
            class="form-control"
            name="prenomPere"
            id="field_prenomPere"
            data-cy="prenomPere"
            formControlName="prenomPere"
          />
          @if (prenomPereRef.invalid && (prenomPereRef.dirty || prenomPereRef.touched)) {
            <div>
              @if (editForm.get('prenomPere')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let professionPereRef = editForm.get('professionPere')!;
        <div class="mb-3">
          <label class="form-label" for="field_professionPere">Profession Pere</label>
          <input
            type="text"
            class="form-control"
            name="professionPere"
            id="field_professionPere"
            data-cy="professionPere"
            formControlName="professionPere"
          />
          @if (professionPereRef.invalid && (professionPereRef.dirty || professionPereRef.touched)) {
            <div>
              @if (editForm.get('professionPere')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let nomPrenomMereRef = editForm.get('nomPrenomMere')!;
        <div class="mb-3">
          <label class="form-label" for="field_nomPrenomMere">Nom Prenom Mere</label>
          <input
            type="text"
            class="form-control"
            name="nomPrenomMere"
            id="field_nomPrenomMere"
            data-cy="nomPrenomMere"
            formControlName="nomPrenomMere"
          />
          @if (nomPrenomMereRef.invalid && (nomPrenomMereRef.dirty || nomPrenomMereRef.touched)) {
            <div>
              @if (editForm.get('nomPrenomMere')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let professionMereRef = editForm.get('professionMere')!;
        <div class="mb-3">
          <label class="form-label" for="field_professionMere">Profession Mere</label>
          <input
            type="text"
            class="form-control"
            name="professionMere"
            id="field_professionMere"
            data-cy="professionMere"
            formControlName="professionMere"
          />
          @if (professionMereRef.invalid && (professionMereRef.dirty || professionMereRef.touched)) {
            <div>
              @if (editForm.get('professionMere')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let medecinTraitantRef = editForm.get('medecinTraitant')!;
        <div class="mb-3">
          <label class="form-label" for="field_medecinTraitant">Medecin Traitant</label>
          <input
            type="text"
            class="form-control"
            name="medecinTraitant"
            id="field_medecinTraitant"
            data-cy="medecinTraitant"
            formControlName="medecinTraitant"
          />
          @if (medecinTraitantRef.invalid && (medecinTraitantRef.dirty || medecinTraitantRef.touched)) {
            <div>
              @if (editForm.get('medecinTraitant')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let serviceOrigineRef = editForm.get('serviceOrigine')!;
        <div class="mb-3">
          <label class="form-label" for="field_serviceOrigine">Service Origine</label>
          <input
            type="text"
            class="form-control"
            name="serviceOrigine"
            id="field_serviceOrigine"
            data-cy="serviceOrigine"
            formControlName="serviceOrigine"
          />
          @if (serviceOrigineRef.invalid && (serviceOrigineRef.dirty || serviceOrigineRef.touched)) {
            <div>
              @if (editForm.get('serviceOrigine')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let biologisteResponsableDgRef = editForm.get('biologisteResponsableDg')!;
        <div class="mb-3">
          <label class="form-label" for="field_biologisteResponsableDg">Biologiste Responsable Dg</label>
          <input
            type="text"
            class="form-control"
            name="biologisteResponsableDg"
            id="field_biologisteResponsableDg"
            data-cy="biologisteResponsableDg"
            formControlName="biologisteResponsableDg"
          />
          @if (biologisteResponsableDgRef.invalid && (biologisteResponsableDgRef.dirty || biologisteResponsableDgRef.touched)) {
            <div>
              @if (editForm.get('biologisteResponsableDg')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let diagnosticRef = editForm.get('diagnostic')!;
        <div class="mb-3">
          <label class="form-label" for="field_diagnostic">Diagnostic</label>
          <select class="form-control" name="diagnostic" formControlName="diagnostic" id="field_diagnostic" data-cy="diagnostic">
            <option [ngValue]="null"></option>
            @for (diagnosticType of diagnosticTypeValues; track $index) {
              <option [value]="diagnosticType">
                {{
                  {
                    null: '',
                    HEMOPHILIE: 'HEMOPHILIE',
                    WILLEBRAND: 'WILLEBRAND',
                    THROMBOPATHIE: 'THROMBOPATHIE',
                    DEFICIT_FACTEUR_VII: 'DEFICIT_FACTEUR_VII',
                    DEFICIT_FACTEUR_XI: 'DEFICIT_FACTEUR_XI',
                    DEFICIT_FACTEUR_XIII: 'DEFICIT_FACTEUR_XIII',
                    DEFICIT_COMBINE: 'DEFICIT_COMBINE',
                    AUTRE: 'AUTRE',
                  }[diagnosticType]
                }}
              </option>
            }
          </select>
          @if (diagnosticRef.invalid && (diagnosticRef.dirty || diagnosticRef.touched)) {
            <div>
              @if (editForm.get('diagnostic')?.errors?.required) {
                <small class="form-text text-danger">Ce champ est obligatoire.</small>
              }
            </div>
          }
        </div>

        @let autreDiagnosticRef = editForm.get('autreDiagnostic')!;
        <div class="mb-3">
          <label class="form-label" for="field_autreDiagnostic">Autre Diagnostic</label>
          <input
            type="text"
            class="form-control"
            name="autreDiagnostic"
            id="field_autreDiagnostic"
            data-cy="autreDiagnostic"
            formControlName="autreDiagnostic"
          />
          @if (autreDiagnosticRef.invalid && (autreDiagnosticRef.dirty || autreDiagnosticRef.touched)) {
            <div>
              @if (editForm.get('autreDiagnostic')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_anneeDiagnostic">Année Diagnostic</label>
          <input
            type="number"
            class="form-control"
            name="anneeDiagnostic"
            id="field_anneeDiagnostic"
            data-cy="anneeDiagnostic"
            formControlName="anneeDiagnostic"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_dateEnregistrementRegistre">Date Enregistrement Registre</label>
          <div class="input-group">
            <input
              id="field_dateEnregistrementRegistre"
              data-cy="dateEnregistrementRegistre"
              type="text"
              class="form-control"
              name="dateEnregistrementRegistre"
              ngbDatepicker
              #dateEnregistrementRegistreDp="ngbDatepicker"
              formControlName="dateEnregistrementRegistre"
            />
            <button type="button" class="btn btn-secondary" (click)="dateEnregistrementRegistreDp.toggle()">
              <fa-icon icon="calendar-alt"></fa-icon>
            </button>
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_consentementRegistre">Consentement Registre</label>
          <select
            class="form-control"
            name="consentementRegistre"
            formControlName="consentementRegistre"
            id="field_consentementRegistre"
            data-cy="consentementRegistre"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

                
              </div>
            </div>
          </div>


<!-- Accordéon Section 2: Antécédents -->
<div class="accordion-item">
  <h2 class="accordion-header" id="headingAntecedents">
    <button
      class="accordion-button collapsed"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#collapseAntecedents"
      aria-expanded="false"
      aria-controls="collapseAntecedents"
    >
      Antécédents
    </button>
  </h2>
  <div
    id="collapseAntecedents"
    class="accordion-collapse collapse"
    aria-labelledby="headingAntecedents"
    data-bs-parent="#ficheAccordion"
  >
    <div class="accordion-body">
      <!-- Contenu pour la section Antécédents -->


                


<!-- Parents Consanguins -->
<div class="mb-3">
  <label class="form-label" for="field_parentsConsanguins">Parents Consanguins</label>
  <select
    class="form-control"
    name="parentsConsanguins"
    formControlName="parentsConsanguins"
    id="field_parentsConsanguins"
    data-cy="parentsConsanguins"
  >
    <option [ngValue]="null"></option>
    @for (ouiNonNP of ouiNonNPValues; track $index) {
      <option [value]="ouiNonNP">
        {{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}
      </option>
    }
  </select>
</div>

<!-- Condition : Degré Parenté affiché uniquement si "OUI" -->
@let consanguinsValue = editForm.get('parentsConsanguins')?.value;
@if (consanguinsValue === 'OUI') {
  <div class="mb-3">
    <label class="form-label" for="field_degreParenteConsanguins">Degré Parenté</label>
    <select
      class="form-control"
      name="degreParenteConsanguins"
      formControlName="degreParenteConsanguins"
      id="field_degreParenteConsanguins"
      data-cy="degreParenteConsanguins"
    >
      <option [ngValue]="null"></option>
      @for (degreParente of degreParenteValues; track $index) {
        <option [value]="degreParente">
          {{
            {
              null: '',
              TROISIEME_DEGRE: 'TROISIEME_DEGRE',
              QUATRIEME_DEGRE: 'QUATRIEME_DEGRE',
              LOINTAIN: 'LOINTAIN'
            }[degreParente]
          }}
        </option>
      }
    </select>
  </div>
}


        <div class="mb-3">
          <label class="form-label" for="field_casSimilaires">Cas Similaires</label>
          <select
            class="form-control"
            name="casSimilaires"
            formControlName="casSimilaires"
            id="field_casSimilaires"
            data-cy="casSimilaires"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

<div class="mb-3">
  <label class="form-label" for="field_nombreCas">Nombre Cas</label>
  <input
    type="number"
    min="1"
    max="3"
    class="form-control"
    name="nombreCas"
    id="field_nombreCas"
    data-cy="nombreCas"
    formControlName="nombreCas"
/>
</div>

@let nombreCasValue = editForm.get('nombreCas')?.value;
@for (i of [1, 2, 3]; track i) {
  @if (nombreCasValue != null && nombreCasValue >= i) {

    <div class="mb-3">
      <label class="form-label" for="field_cas{{i}}Numero">Cas {{i}} Numero</label>
      <input
        type="number"
        class="form-control"
        name="cas{{i}}Numero"
        id="field_cas{{i}}Numero"
        [attr.data-cy]="'cas' + i + 'Numero'"
        formControlName="cas{{i}}Numero"
      />
    </div>

    <div class="mb-3">
      <label class="form-label" for="field_lienParenteCas{{i}}">Lien Parente Cas {{i}}</label>
      <select
        class="form-control"
        name="lienParenteCas{{i}}"
        formControlName="lienParenteCas{{i}}"
        id="field_lienParenteCas{{i}}"
        [attr.data-cy]="'lienParenteCas' + i"
      >
        <option [ngValue]="null"></option>
        @for (lienParente of lienParenteValues; track $index) {
          <option [value]="lienParente">
            {{ { null: '', FRERE: 'FRERE', COUSIN: 'COUSIN', LOINTAIN: 'LOINTAIN' }[lienParente] }}
          </option>
        }
      </select>
    </div>

    @let degreParenteRef = editForm.get('degreParenteCas' + i)!;
    <div class="mb-3">
      <label class="form-label" for="field_degreParenteCas{{i}}">Degre Parente Cas {{i}}</label>
      <input
        type="text"
        class="form-control"
        name="degreParenteCas{{i}}"
        id="field_degreParenteCas{{i}}"
        [attr.data-cy]="'degreParenteCas' + i"
        formControlName="degreParenteCas{{i}}"
      />
      @if (degreParenteRef.invalid && (degreParenteRef.dirty || degreParenteRef.touched)) {
        <div>
          @if (degreParenteRef.errors?.maxlength) {
            <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
          }
        </div>
      }
    </div>

    @let typeHemorragieRef = editForm.get('typeHemorragieCas' + i)!;
    <div class="mb-3">
      <label class="form-label" for="field_typeHemorragieCas{{i}}">Type Hemorragie Cas {{i}}</label>
      <input
        type="text"
        class="form-control"
        name="typeHemorragieCas{{i}}"
        id="field_typeHemorragieCas{{i}}"
        [attr.data-cy]="'typeHemorragieCas' + i"
        formControlName="typeHemorragieCas{{i}}"
      />
      @if (typeHemorragieRef.invalid && (typeHemorragieRef.dirty || typeHemorragieRef.touched)) {
        <div>
          @if (typeHemorragieRef.errors?.maxlength) {
            <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
          }
        </div>
      }
    </div>

  }
}



        <div class="mb-3">
          <label class="form-label" for="field_decesSyndromeHemorragique">Décés Syndrome Hemorragique</label>
          <select
            class="form-control"
            name="decesSyndromeHemorragique"
            formControlName="decesSyndromeHemorragique"
            id="field_decesSyndromeHemorragique"
            data-cy="decesSyndromeHemorragique"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

<div class="mb-3">
  <label class="form-label" for="field_nombreDeces">Nombre Décés</label>
  <input
    type="number"
    min="1"
    max="3"
    class="form-control"
    name="nombreDeces"
    id="field_nombreDeces"
    data-cy="nombreDeces"
    formControlName="nombreDeces"
/>
</div>

@let nombreDecesValue = editForm.get('nombreDeces')?.value;
@for (i of [1, 2, 3]; track i) {
  @if (nombreDecesValue != null && nombreDecesValue >= i) {

    <div class="mb-3">
      <label class="form-label" for="field_deces{{i}}Numero">Deces {{i}} Numero</label>
      <input
        type="number"
        class="form-control"
        name="deces{{i}}Numero"
        id="field_deces{{i}}Numero"
        [attr.data-cy]="'deces' + i + 'Numero'"
        formControlName="deces{{i}}Numero"
      />
    </div>

    <div class="mb-3">
      <label class="form-label" for="field_lienParenteDeces{{i}}">Lien Parente Deces {{i}}</label>
      <select
        class="form-control"
        name="lienParenteDeces{{i}}"
        formControlName="lienParenteDeces{{i}}"
        id="field_lienParenteDeces{{i}}"
        [attr.data-cy]="'lienParenteDeces' + i"
      >
        <option [ngValue]="null"></option>
        @for (lienParente of lienParenteValues; track $index) {
          <option [value]="lienParente">
            {{ { null: '', FRERE: 'FRERE', COUSIN: 'COUSIN', LOINTAIN: 'LOINTAIN' }[lienParente] }}
          </option>
        }
      </select>
    </div>

    @let causeDecesRef = editForm.get('causeDeces' + i)!;
    <div class="mb-3">
      <label class="form-label" for="field_causeDeces{{i}}">Cause Deces {{i}}</label>
      <input
        type="text"
        class="form-control"
        name="causeDeces{{i}}"
        id="field_causeDeces{{i}}"
        [attr.data-cy]="'causeDeces' + i"
        formControlName="causeDeces{{i}}"
      />
      @if (causeDecesRef.invalid && (causeDecesRef.dirty || causeDecesRef.touched)) {
        <div>
          @if (causeDecesRef.errors?.maxlength) {
            <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
          }
        </div>
      }
    </div>

  }
}

        <div class="mb-3">
          <label class="form-label" for="field_enqueteFamiliale">Enquete Familiale</label>
          <select
            class="form-control"
            name="enqueteFamiliale"
            formControlName="enqueteFamiliale"
            id="field_enqueteFamiliale"
            data-cy="enqueteFamiliale"
          >
            <option [ngValue]="null"></option>
            @for (faiteNonFaite of faiteNonFaiteValues; track $index) {
              <option [value]="faiteNonFaite">{{ { null: '', FAITE: 'FAITE', NONFAITE: 'NONFAITE' }[faiteNonFaite] }}</option>
            }
          </select>
        </div>


          </div>
  </div>
</div>


          <!-- Accordéon Section 3: Circonstances de découverte -->
<div class="accordion-item">
  <h2 class="accordion-header" id="headingCirconstances">
    <button
      class="accordion-button collapsed"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#collapseCirconstances"
      aria-expanded="false"
      aria-controls="collapseCirconstances"
    >
      Circonstances de découverte
    </button>
  </h2>
  <div
    id="collapseCirconstances"
    class="accordion-collapse collapse"
    aria-labelledby="headingCirconstances"
    data-bs-parent="#ficheAccordion"
  >
    <div class="accordion-body">
      <!-- Contenu pour la section Circonstances de découverte -->
      

      
        <div class="mb-3">
          <label class="form-label" for="field_circonstancesDecouverte">Circonstances Decouverte</label>
          <select
            class="form-control"
            name="circonstancesDecouverte"
            formControlName="circonstancesDecouverte"
            id="field_circonstancesDecouverte"
            data-cy="circonstancesDecouverte"
          >
            <option [ngValue]="null"></option>
            @for (circonstanceDecouverteMvW of circonstanceDecouverteMvWValues; track $index) {
              <option [value]="circonstanceDecouverteMvW">
                {{
                  {
                    null: '',
                    SYNDROME_HEMORRAGIQUE: 'SYNDROME_HEMORRAGIQUE',
                    ENQUETE_FAMILIALE: 'ENQUETE_FAMILIALE',
                    DECOUVERTE_FORTUITE: 'DECOUVERTE_FORTUITE',
                  }[circonstanceDecouverteMvW]
                }}
              </option>
            }
          </select>
        </div>

        @let circonstancesDecouvertePrecisionRef = editForm.get('circonstancesDecouvertePrecision')!;
        <div class="mb-3">
          <label class="form-label" for="field_circonstancesDecouvertePrecision">Circonstances Decouverte Precision</label>
          <input
            type="text"
            class="form-control"
            name="circonstancesDecouvertePrecision"
            id="field_circonstancesDecouvertePrecision"
            data-cy="circonstancesDecouvertePrecision"
            formControlName="circonstancesDecouvertePrecision"
          />
          @if (
            circonstancesDecouvertePrecisionRef.invalid &&
            (circonstancesDecouvertePrecisionRef.dirty || circonstancesDecouvertePrecisionRef.touched)
          ) {
            <div>
              @if (editForm.get('circonstancesDecouvertePrecision')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 100 caractères.</small>
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_jamaisSaigne">Jamais Saigne</label>
          <select class="form-control" name="jamaisSaigne" formControlName="jamaisSaigne" id="field_jamaisSaigne" data-cy="jamaisSaigne">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_agePremierSigneCliniqueJours">Age Premier Signe Clinique Jours</label>
          <input
            type="number"
            class="form-control"
            name="agePremierSigneCliniqueJours"
            id="field_agePremierSigneCliniqueJours"
            data-cy="agePremierSigneCliniqueJours"
            formControlName="agePremierSigneCliniqueJours"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_agePremierSigneCliniqueMois">Age Premier Signe Clinique Mois</label>
          <input
            type="number"
            class="form-control"
            name="agePremierSigneCliniqueMois"
            id="field_agePremierSigneCliniqueMois"
            data-cy="agePremierSigneCliniqueMois"
            formControlName="agePremierSigneCliniqueMois"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_agePremierSigneCliniqueAnnees">Age Premier Signe Clinique Annees</label>
          <input
            type="number"
            class="form-control"
            name="agePremierSigneCliniqueAnnees"
            id="field_agePremierSigneCliniqueAnnees"
            data-cy="agePremierSigneCliniqueAnnees"
            formControlName="agePremierSigneCliniqueAnnees"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_symptomeEcchymose">Symptome Ecchymose</label>
          <select
            class="form-control"
            name="symptomeEcchymose"
            formControlName="symptomeEcchymose"
            id="field_symptomeEcchymose"
            data-cy="symptomeEcchymose"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_symptomeEpistaxis">Symptome Epistaxis</label>
          <select
            class="form-control"
            name="symptomeEpistaxis"
            formControlName="symptomeEpistaxis"
            id="field_symptomeEpistaxis"
            data-cy="symptomeEpistaxis"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_symptomeGingivorragies">Symptome Gingivorragies</label>
          <select
            class="form-control"
            name="symptomeGingivorragies"
            formControlName="symptomeGingivorragies"
            id="field_symptomeGingivorragies"
            data-cy="symptomeGingivorragies"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_symptomeMetrorragies">Symptome Metrorragies</label>
          <select
            class="form-control"
            name="symptomeMetrorragies"
            formControlName="symptomeMetrorragies"
            id="field_symptomeMetrorragies"
            data-cy="symptomeMetrorragies"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_symptomeMelena">Symptome Melena</label>
          <select
            class="form-control"
            name="symptomeMelena"
            formControlName="symptomeMelena"
            id="field_symptomeMelena"
            data-cy="symptomeMelena"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_symptomeHemoptysie">Symptome Hemoptysie</label>
          <select
            class="form-control"
            name="symptomeHemoptysie"
            formControlName="symptomeHemoptysie"
            id="field_symptomeHemoptysie"
            data-cy="symptomeHemoptysie"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_symptomeHemorragiePostAmygdalectomie">Symptome Hemorragie Post Amygdalectomie</label>
          <select
            class="form-control"
            name="symptomeHemorragiePostAmygdalectomie"
            formControlName="symptomeHemorragiePostAmygdalectomie"
            id="field_symptomeHemorragiePostAmygdalectomie"
            data-cy="symptomeHemorragiePostAmygdalectomie"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_symptomeHemorragiePostAvulsionDentaire">Symptome Hemorragie Post Avulsion Dentaire</label>
          <select
            class="form-control"
            name="symptomeHemorragiePostAvulsionDentaire"
            formControlName="symptomeHemorragiePostAvulsionDentaire"
            id="field_symptomeHemorragiePostAvulsionDentaire"
            data-cy="symptomeHemorragiePostAvulsionDentaire"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_symptomeHemorragieChuteCordon">Symptome Hemorragie Chute Cordon</label>
          <select
            class="form-control"
            name="symptomeHemorragieChuteCordon"
            formControlName="symptomeHemorragieChuteCordon"
            id="field_symptomeHemorragieChuteCordon"
            data-cy="symptomeHemorragieChuteCordon"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_symptomeAutre">Symptome Autre</label>
          <select
            class="form-control"
            name="symptomeAutre"
            formControlName="symptomeAutre"
            id="field_symptomeAutre"
            data-cy="symptomeAutre"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        @let symptomeAutreDescriptionRef = editForm.get('symptomeAutreDescription')!;
        <div class="mb-3">
          <label class="form-label" for="field_symptomeAutreDescription">Symptome Autre Description</label>
          <input
            type="text"
            class="form-control"
            name="symptomeAutreDescription"
            id="field_symptomeAutreDescription"
            data-cy="symptomeAutreDescription"
            formControlName="symptomeAutreDescription"
          />
          @if (symptomeAutreDescriptionRef.invalid && (symptomeAutreDescriptionRef.dirty || symptomeAutreDescriptionRef.touched)) {
            <div>
              @if (editForm.get('symptomeAutreDescription')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_datePremiereConsultation">Date Premiere Consultation</label>
          <div class="input-group">
            <input
              id="field_datePremiereConsultation"
              data-cy="datePremiereConsultation"
              type="text"
              class="form-control"
              name="datePremiereConsultation"
              ngbDatepicker
              #datePremiereConsultationDp="ngbDatepicker"
              formControlName="datePremiereConsultation"
            />
            <button type="button" class="btn btn-secondary" (click)="datePremiereConsultationDp.toggle()">
              <fa-icon icon="calendar-alt"></fa-icon>
            </button>
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_agePremiereConsultationJours">Age Premiere Consultation Jours</label>
          <input
            type="number"
            class="form-control"
            name="agePremiereConsultationJours"
            id="field_agePremiereConsultationJours"
            data-cy="agePremiereConsultationJours"
            formControlName="agePremiereConsultationJours"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_agePremiereConsultationMois">Age Premiere Consultation Mois</label>
          <input
            type="number"
            class="form-control"
            name="agePremiereConsultationMois"
            id="field_agePremiereConsultationMois"
            data-cy="agePremiereConsultationMois"
            formControlName="agePremiereConsultationMois"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_agePremiereConsultationAnnees">Age Premiere Consultation Annees</label>
          <input
            type="number"
            class="form-control"
            name="agePremiereConsultationAnnees"
            id="field_agePremiereConsultationAnnees"
            data-cy="agePremiereConsultationAnnees"
            formControlName="agePremiereConsultationAnnees"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_ageDiagnosticJours">Age Diagnostic Jours</label>
          <input
            type="number"
            class="form-control"
            name="ageDiagnosticJours"
            id="field_ageDiagnosticJours"
            data-cy="ageDiagnosticJours"
            formControlName="ageDiagnosticJours"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_ageDiagnosticMois">Age Diagnostic Mois</label>
          <input
            type="number"
            class="form-control"
            name="ageDiagnosticMois"
            id="field_ageDiagnosticMois"
            data-cy="ageDiagnosticMois"
            formControlName="ageDiagnosticMois"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_ageDiagnosticAnnees">Age Diagnostic Annees</label>
          <input
            type="number"
            class="form-control"
            name="ageDiagnosticAnnees"
            id="field_ageDiagnosticAnnees"
            data-cy="ageDiagnosticAnnees"
            formControlName="ageDiagnosticAnnees"
          />
        </div>


    </div>
  </div>
</div>

<!-- Accordéon Section 4: TYPE DE LA MALADIE DE WILLEBRAND -->
<div class="accordion-item">
  <h2 class="accordion-header" id="headingTypeWILLEBRAND">
    <button
      class="accordion-button collapsed"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#collapseTypeWILLEBRAND"
      aria-expanded="false"
      aria-controls="collapseTypeWILLEBRAND"
    >
      Type de la maladie de WILLEBRAND
    </button>
  </h2>
  <div
    id="collapseTypeWILLEBRAND"
    class="accordion-collapse collapse"
    aria-labelledby="headingTypeWILLEBRAND"
    data-bs-parent="#ficheAccordion"
  >
    <div class="accordion-body">
      <!-- Contenu pour la section TYPE DE LA MALADIE DE WILLEBRAND -->
      


      
        @let typeMvWRef = editForm.get('typeMvW')!;
        <div class="mb-3">
          <label class="form-label" for="field_typeMvW">Type Mv W</label>
          <select class="form-control" name="typeMvW" formControlName="typeMvW" id="field_typeMvW" data-cy="typeMvW">
            <option [ngValue]="null"></option>
            @for (typeMvW of typeMvWValues; track $index) {
              <option [value]="typeMvW">{{ { null: '', TYPE1: 'TYPE1', TYPE2: 'TYPE2', TYPE3: 'TYPE3' }[typeMvW] }}</option>
            }
          </select>
          @if (typeMvWRef.invalid && (typeMvWRef.dirty || typeMvWRef.touched)) {
            <div>
              @if (editForm.get('typeMvW')?.errors?.required) {
                <small class="form-text text-danger">Ce champ est obligatoire.</small>
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_sousTypeMvW">Sous Type Mv W</label>
          <select class="form-control" name="sousTypeMvW" formControlName="sousTypeMvW" id="field_sousTypeMvW" data-cy="sousTypeMvW">
            <option [ngValue]="null"></option>
            @for (sousTypeMvW of sousTypeMvWValues; track $index) {
              <option [value]="sousTypeMvW">
                {{ { null: '', TYPE2A: 'TYPE2A', TYPE2B: 'TYPE2B', TYPE2M: 'TYPE2M', TYPE2N: 'TYPE2N', NP: 'NP' }[sousTypeMvW] }}
              </option>
            }
          </select>
        </div>


    </div>
  </div>
</div>

<!-- Accordéon Section 5: PATHOLOGIES ASSOCIEES  -->
<div class="accordion-item">
  <h2 class="accordion-header" id="headingPathologiesAssociees">
    <button
      class="accordion-button collapsed"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#collapsePathologiesAssociees"
      aria-expanded="false"
      aria-controls="collapsePathologiesAssociees"
    >
      Pathologies Associees
    </button>
  </h2>
  <div
    id="collapsePathologiesAssociees"
    class="accordion-collapse collapse"
    aria-labelledby="headingPathologiesAssociees"
    data-bs-parent="#ficheAccordion"
  >
    <div class="accordion-body">
      <!-- Contenu pour la section PATHOLOGIES ASSOCIEES  -->




      
        <div class="mb-3">
          <label class="form-label" for="field_pathologiesAssociees">Pathologies Associees</label>
          <input
            type="text"
            class="form-control"
            name="pathologiesAssociees"
            id="field_pathologiesAssociees"
            data-cy="pathologiesAssociees"
            formControlName="pathologiesAssociees"
          />
        </div>



    </div>
  </div>
</div>

<!-- Accordéon Section 6: Biologie au moment du diagnostic -->
<div class="accordion-item">
  <h2 class="accordion-header" id="headingBiologie">
    <button
      class="accordion-button collapsed"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#collapseBiologie"
      aria-expanded="false"
      aria-controls="collapseBiologie"
    >
      Biologie au moment du diagnostic
    </button>
  </h2>
  <div
    id="collapseBiologie"
    class="accordion-collapse collapse"
    aria-labelledby="headingBiologie"
    data-bs-parent="#ficheAccordion"
  >
    <div class="accordion-body">
      <!-- Contenu pour la section Biologie -->
      

      

        <div class="mb-3">
          <label class="form-label" for="field_dateTestConfirmation">Date Test Confirmation</label>
          <div class="input-group">
            <input
              id="field_dateTestConfirmation"
              data-cy="dateTestConfirmation"
              type="text"
              class="form-control"
              name="dateTestConfirmation"
              ngbDatepicker
              #dateTestConfirmationDp="ngbDatepicker"
              formControlName="dateTestConfirmation"
            />
            <button type="button" class="btn btn-secondary" (click)="dateTestConfirmationDp.toggle()">
              <fa-icon icon="calendar-alt"></fa-icon>
            </button>
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_gs">Gs</label>
          <select class="form-control" name="gs" formControlName="gs" id="field_gs" data-cy="gs">
            <option [ngValue]="null"></option>
            @for (groupeSanguin of groupeSanguinValues; track $index) {
              <option [value]="groupeSanguin">{{ { null: '', O: 'O', NON_O: 'NON_O' }[groupeSanguin] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hb">Hb</label>
          <input type="number" class="form-control" name="hb" id="field_hb" data-cy="hb" formControlName="hb" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hte">Hte</label>
          <input type="number" class="form-control" name="hte" id="field_hte" data-cy="hte" formControlName="hte" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_plaquettes">Plaquettes</label>
          <input
            type="number"
            class="form-control"
            name="plaquettes"
            id="field_plaquettes"
            data-cy="plaquettes"
            formControlName="plaquettes"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_tp">Tp</label>
          <input type="number" class="form-control" name="tp" id="field_tp" data-cy="tp" formControlName="tp" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_tcaMT">Tca MT</label>
          <input type="number" class="form-control" name="tcaMT" id="field_tcaMT" data-cy="tcaMT" formControlName="tcaMT" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_tcaMPlusT">Tca M Plus T</label>
          <input type="number" class="form-control" name="tcaMPlusT" id="field_tcaMPlusT" data-cy="tcaMPlusT" formControlName="tcaMPlusT" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_tcaMPlusT2H">Tca M Plus T 2 H</label>
          <input
            type="number"
            class="form-control"
            name="tcaMPlusT2H"
            id="field_tcaMPlusT2H"
            data-cy="tcaMPlusT2H"
            formControlName="tcaMPlusT2H"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_fibrinogene">Fibrinogene</label>
          <input
            type="number"
            class="form-control"
            name="fibrinogene"
            id="field_fibrinogene"
            data-cy="fibrinogene"
            formControlName="fibrinogene"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_tsResultat">Ts Resultat</label>
          <select class="form-control" name="tsResultat" formControlName="tsResultat" id="field_tsResultat" data-cy="tsResultat">
            <option [ngValue]="null"></option>
            @for (typeTS of typeTSValues; track $index) {
              <option [value]="typeTS">{{ { null: '', NORMAL: 'NORMAL', ALLONGE: 'ALLONGE', NON_FAIT: 'NON_FAIT' }[typeTS] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_tsValeur">Ts Valeur</label>
          <input type="number" class="form-control" name="tsValeur" id="field_tsValeur" data-cy="tsValeur" formControlName="tsValeur" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_occlusionPlaquettaire">Occlusion Plaquettaire</label>
          <select
            class="form-control"
            name="occlusionPlaquettaire"
            formControlName="occlusionPlaquettaire"
            id="field_occlusionPlaquettaire"
            data-cy="occlusionPlaquettaire"
          >
            <option [ngValue]="null"></option>
            @for (typeOcclusion of typeOcclusionValues; track $index) {
              <option [value]="typeOcclusion">
                {{ { null: '', NORMAL: 'NORMAL', ALLONGE: 'ALLONGE', NON_FAIT: 'NON_FAIT' }[typeOcclusion] }}
              </option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_collageneEpinephrine">Collagene Epinephrine</label>
          <input
            type="number"
            class="form-control"
            name="collageneEpinephrine"
            id="field_collageneEpinephrine"
            data-cy="collageneEpinephrine"
            formControlName="collageneEpinephrine"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_collageneADP">Collagene ADP</label>
          <input
            type="number"
            class="form-control"
            name="collageneADP"
            id="field_collageneADP"
            data-cy="collageneADP"
            formControlName="collageneADP"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_fvwag">Fvwag</label>
          <input type="number" class="form-control" name="fvwag" id="field_fvwag" data-cy="fvwag" formControlName="fvwag" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_fvwact">Fvwact</label>
          <input type="number" class="form-control" name="fvwact" id="field_fvwact" data-cy="fvwact" formControlName="fvwact" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_f8c">F 8 C</label>
          <input type="number" class="form-control" name="f8c" id="field_f8c" data-cy="f8c" formControlName="f8c" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_ratioFvwactFvwag">Ratio Fvwact Fvwag</label>
          <input
            type="number"
            class="form-control"
            name="ratioFvwactFvwag"
            id="field_ratioFvwactFvwag"
            data-cy="ratioFvwactFvwag"
            formControlName="ratioFvwactFvwag"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_ratioF8cFvwag">Ratio F 8 C Fvwag</label>
          <input
            type="number"
            class="form-control"
            name="ratioF8cFvwag"
            id="field_ratioF8cFvwag"
            data-cy="ratioF8cFvwag"
            formControlName="ratioF8cFvwag"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_autresTestsSpecifiques">Autres Tests Specifiques</label>
          <select
            class="form-control"
            name="autresTestsSpecifiques"
            formControlName="autresTestsSpecifiques"
            id="field_autresTestsSpecifiques"
            data-cy="autresTestsSpecifiques"
          >
            <option [ngValue]="null"></option>
            @for (faiteNonFaite of faiteNonFaiteValues; track $index) {
              <option [value]="faiteNonFaite">{{ { null: '', FAITE: 'FAITE', NONFAITE: 'NONFAITE' }[faiteNonFaite] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_vwfCB">Vwf CB</label>
          <select class="form-control" name="vwfCB" formControlName="vwfCB" id="field_vwfCB" data-cy="vwfCB">
            <option [ngValue]="null"></option>
            @for (faiteNonFaite of faiteNonFaiteValues; track $index) {
              <option [value]="faiteNonFaite">{{ { null: '', FAITE: 'FAITE', NONFAITE: 'NONFAITE' }[faiteNonFaite] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_vwfCBResultat">Vwf CB Resultat</label>
          <input
            type="number"
            class="form-control"
            name="vwfCBResultat"
            id="field_vwfCBResultat"
            data-cy="vwfCBResultat"
            formControlName="vwfCBResultat"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_ripa">Ripa</label>
          <select class="form-control" name="ripa" formControlName="ripa" id="field_ripa" data-cy="ripa">
            <option [ngValue]="null"></option>
            @for (faiteNonFaite of faiteNonFaiteValues; track $index) {
              <option [value]="faiteNonFaite">{{ { null: '', FAITE: 'FAITE', NONFAITE: 'NONFAITE' }[faiteNonFaite] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_ripaResultat">Ripa Resultat</label>
          <select class="form-control" name="ripaResultat" formControlName="ripaResultat" id="field_ripaResultat" data-cy="ripaResultat">
            <option [ngValue]="null"></option>
            @for (typeRipaResultat of typeRipaResultatValues; track $index) {
              <option [value]="typeRipaResultat">{{ { null: '', DIMINUE: 'DIMINUE', PARADOXALE: 'PARADOXALE' }[typeRipaResultat] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_multimereHPM">Multimere HPM</label>
          <select class="form-control" name="multimereHPM" formControlName="multimereHPM" id="field_multimereHPM" data-cy="multimereHPM">
            <option [ngValue]="null"></option>
            @for (typeMultimere of typeMultimereValues; track $index) {
              <option [value]="typeMultimere">{{ { null: '', PRESENTS: 'PRESENTS', ABSENTS: 'ABSENTS' }[typeMultimere] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_liaisonFvwF8">Liaison Fvw F 8</label>
          <select class="form-control" name="liaisonFvwF8" formControlName="liaisonFvwF8" id="field_liaisonFvwF8" data-cy="liaisonFvwF8">
            <option [ngValue]="null"></option>
            @for (faiteNonFaite of faiteNonFaiteValues; track $index) {
              <option [value]="faiteNonFaite">{{ { null: '', FAITE: 'FAITE', NONFAITE: 'NONFAITE' }[faiteNonFaite] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_liaisonFvwF8Resultat">Liaison Fvw F 8 Resultat</label>
          <select
            class="form-control"
            name="liaisonFvwF8Resultat"
            formControlName="liaisonFvwF8Resultat"
            id="field_liaisonFvwF8Resultat"
            data-cy="liaisonFvwF8Resultat"
          >
            <option [ngValue]="null"></option>
            @for (typeResultatPatho of typeResultatPathoValues; track $index) {
              <option [value]="typeResultatPatho">
                {{ { null: '', PATHOLOGIQUE: 'PATHOLOGIQUE', NORMAL: 'NORMAL' }[typeResultatPatho] }}
              </option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_fvwpp">Fvwpp</label>
          <select class="form-control" name="fvwpp" formControlName="fvwpp" id="field_fvwpp" data-cy="fvwpp">
            <option [ngValue]="null"></option>
            @for (faiteNonFaite of faiteNonFaiteValues; track $index) {
              <option [value]="faiteNonFaite">{{ { null: '', FAITE: 'FAITE', NONFAITE: 'NONFAITE' }[faiteNonFaite] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_fvwppResultat">Fvwpp Resultat</label>
          <select
            class="form-control"
            name="fvwppResultat"
            formControlName="fvwppResultat"
            id="field_fvwppResultat"
            data-cy="fvwppResultat"
          >
            <option [ngValue]="null"></option>
            @for (typeFvWppRatio of typeFvWppRatioValues; track $index) {
              <option [value]="typeFvWppRatio">{{ { null: '', PATHOLOGIQUE: 'PATHOLOGIQUE', NORMAL: 'NORMAL' }[typeFvWppRatio] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_mutationGenetique">Mutation Genetique</label>
          <select
            class="form-control"
            name="mutationGenetique"
            formControlName="mutationGenetique"
            id="field_mutationGenetique"
            data-cy="mutationGenetique"
          >
            <option [ngValue]="null"></option>
            @for (faiteNonFaite of faiteNonFaiteValues; track $index) {
              <option [value]="faiteNonFaite">{{ { null: '', FAITE: 'FAITE', NONFAITE: 'NONFAITE' }[faiteNonFaite] }}</option>
            }
          </select>
        </div>

<div class="mb-3">
  <div class="form-check d-flex align-items-center">
    <input
      type="checkbox"
      class="form-check-input me-2"
      name="mutationPresente"
      id="field_mutationPresente"
      data-cy="mutationPresente"
      formControlName="mutationPresente"
    />
    <label class="form-check-label mb-0" for="field_mutationPresente">Mutation Presente</label>
  </div>
</div>

        <div class="mb-3">
          <label class="form-label" for="field_mutationNom">Mutation Nom</label>
          <input
            type="text"
            class="form-control"
            name="mutationNom"
            id="field_mutationNom"
            data-cy="mutationNom"
            formControlName="mutationNom"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_mutationZygote">Mutation Zygote</label>
          <select
            class="form-control"
            name="mutationZygote"
            formControlName="mutationZygote"
            id="field_mutationZygote"
            data-cy="mutationZygote"
          >
            <option [ngValue]="null"></option>
            @for (typeZygote of typeZygoteValues; track $index) {
              <option [value]="typeZygote">{{ { null: '', HETEROZYGOTE: 'HETEROZYGOTE', HOMOZYGOTE: 'HOMOZYGOTE' }[typeZygote] }}</option>
            }
          </select>
        </div>


    </div>
  </div>
</div>

<!-- Accordéon Section 8: MANIFESTATIONS CLINIQUES -->
<div class="accordion-item">
  <h2 class="accordion-header" id="headingManifestationsCliniques">
    <button
      class="accordion-button collapsed"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#collapseManifestationsCliniques"
      aria-expanded="false"
      aria-controls="collapseManifestationsCliniques"
    >
      Manifestations Cliniques
    </button>
  </h2>
  <div
    id="collapseManifestationsCliniques"
    class="accordion-collapse collapse"
    aria-labelledby="headingManifestationsCliniques"
    data-bs-parent="#ficheAccordion"
  >
    <div class="accordion-body">
      <!-- Contenu pour la section MANIFESTATIONS CLINIQUES -->

      
<!-- Champ principal -->
<div class="mb-3">
  <label class="form-label fw-bold" for="field_ecchymoses">1- Ecchymoses</label>
  <select
    class="form-control"
    name="ecchymoses"
    formControlName="ecchymoses"
    id="field_ecchymoses"
    data-cy="ecchymoses"
  >
    <option [ngValue]="null"></option>
    @for (ouiNonNP of ouiNonNPValues; track $index) {
      <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
    }
  </select>
</div>

<!-- Toujours visibles : Spontanées et Provoquées -->
<div class="mb-3 d-flex align-items-center flex-wrap gap-4">
  <div class="form-check d-flex align-items-center">
    <input
      type="checkbox"
      class="form-check-input me-2"
      name="ecchymosesSpontanees"
      id="field_ecchymosesSpontanees"
      data-cy="ecchymosesSpontanees"
      formControlName="ecchymosesSpontanees"
    />
    <label class="form-check-label mb-0" for="field_ecchymosesSpontanees">Spontanées</label>
  </div>

  <div class="form-check d-flex align-items-center">
    <input
      type="checkbox"
      class="form-check-input me-2"
      name="ecchymosesProvoquees"
      id="field_ecchymosesProvoquees"
      data-cy="ecchymosesProvoquees"
      formControlName="ecchymosesProvoquees"
    />
    <label class="form-check-label mb-0" for="field_ecchymosesProvoquees">Provoquées</label>
  </div>
</div>

<!-- Conditionnel : Siège et Fréquence -->
@let ecchymosesValue = editForm.get('ecchymoses')?.value;
@if (ecchymosesValue === 'OUI') {
  <div class="mb-3">
    <label class="form-label" for="field_ecchymosesSiege">Siège</label>
    <input
      type="text"
      class="form-control"
      name="ecchymosesSiege"
      id="field_ecchymosesSiege"
      data-cy="ecchymosesSiege"
      formControlName="ecchymosesSiege"
    />
  </div>

  <div class="mb-3">
    <label class="form-label" for="field_ecchymosesFrequence">Fréquence</label>
    <input
      type="number"
      class="form-control"
      name="ecchymosesFrequence"
      id="field_ecchymosesFrequence"
      data-cy="ecchymosesFrequence"
      formControlName="ecchymosesFrequence"
    />
  </div>
}


        <div class="mb-3">
          <label class="form-label fw-bold" for="field_hemorragieMuqueuses">2- Hemorragie Muqueuses</label>

          <select
            class="form-control"
            name="hemorragieMuqueuses"
            formControlName="hemorragieMuqueuses"
            id="field_hemorragieMuqueuses"
            data-cy="hemorragieMuqueuses"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_epistaxis">Epistaxis</label>
          <select class="form-control" name="epistaxis" formControlName="epistaxis" id="field_epistaxis" data-cy="epistaxis">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_epistaxisFrequence">Epistaxis Frequence</label>
          <input
            type="number"
            class="form-control"
            name="epistaxisFrequence"
            id="field_epistaxisFrequence"
            data-cy="epistaxisFrequence"
            formControlName="epistaxisFrequence"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemorragiesIntrabuccales">Hemorragies Intrabuccales</label>
          <select
            class="form-control"
            name="hemorragiesIntrabuccales"
            formControlName="hemorragiesIntrabuccales"
            id="field_hemorragiesIntrabuccales"
            data-cy="hemorragiesIntrabuccales"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemorragiesIntrabuccalesFrequence">Hemorragies Intrabuccales Frequence</label>
          <input
            type="number"
            class="form-control"
            name="hemorragiesIntrabuccalesFrequence"
            id="field_hemorragiesIntrabuccalesFrequence"
            data-cy="hemorragiesIntrabuccalesFrequence"
            formControlName="hemorragiesIntrabuccalesFrequence"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_menoragie">Menoragie</label>
          <select class="form-control" name="menoragie" formControlName="menoragie" id="field_menoragie" data-cy="menoragie">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_menoragieFrequence">Menoragie Frequence</label>
          <input
            type="number"
            class="form-control"
            name="menoragieFrequence"
            id="field_menoragieFrequence"
            data-cy="menoragieFrequence"
            formControlName="menoragieFrequence"
          />
        </div>

<!-- Checkbox Score Higham -->
<div class="mb-3">
  <div class="form-check d-flex align-items-center">
    <input
      type="checkbox"
      class="form-check-input me-2"
      name="scoreHighamFait"
      id="field_scoreHighamFait"
      data-cy="scoreHighamFait"
      formControlName="scoreHighamFait"
    />
    <label class="form-check-label mb-0" for="field_scoreHighamFait">Score Higham</label>
  </div>
</div>

<!-- Affichage conditionnel de la valeur -->
@let highamChecked = editForm.get('scoreHighamFait')?.value;
@if (highamChecked) {
  <div class="mb-3">
    <label class="form-label" for="field_scoreHighamValeur">Valeur</label>
    <input
      type="number"
      class="form-control"
      name="scoreHighamValeur"
      id="field_scoreHighamValeur"
      data-cy="scoreHighamValeur"
      formControlName="scoreHighamValeur"
    />
  </div>
}


        <div class="mb-3">
          <label class="form-label fw-bold" for="field_hematome">3- Hématome</label>

          <select class="form-control" name="hematome" formControlName="hematome" id="field_hematome" data-cy="hematome">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

<div class="mb-3 d-flex align-items-center gap-4">
  <div class="form-check d-flex align-items-center">
    <input
      type="checkbox"
      class="form-check-input me-2"
      name="hematomeSpontane"
      id="field_hematomeSpontane"
      data-cy="hematomeSpontane"
      formControlName="hematomeSpontane"
    />
    <label class="form-check-label mb-0" for="field_hematomeSpontane">Hématome Spontané</label>
  </div>

  <div class="form-check d-flex align-items-center">
    <input
      type="checkbox"
      class="form-check-input me-2"
      name="hematomeProvoque"
      id="field_hematomeProvoque"
      data-cy="hematomeProvoque"
      formControlName="hematomeProvoque"
    />
    <label class="form-check-label mb-0" for="field_hematomeProvoque">Hématome Provoqué</label>
  </div>
</div>


<div class="mb-3 d-flex align-items-center flex-wrap gap-4">
  <label class="form-label mb-0 me-3">Siège :</label>

  <div class="form-check d-flex align-items-center">
    <input
      type="checkbox"
      class="form-check-input me-2"
      name="hematomeSousCutane"
      id="field_hematomeSousCutane"
      data-cy="hematomeSousCutane"
      formControlName="hematomeSousCutane"
    />
    <label class="form-check-label mb-0" for="field_hematomeSousCutane">Sous-cutané</label>
  </div>

  <div class="form-check d-flex align-items-center">
    <input
      type="checkbox"
      class="form-check-input me-2"
      name="hematomeMusculaire"
      id="field_hematomeMusculaire"
      data-cy="hematomeMusculaire"
      formControlName="hematomeMusculaire"
    />
    <label class="form-check-label mb-0" for="field_hematomeMusculaire">Musculaire</label>
  </div>

  <div class="form-check d-flex align-items-center">
    <input
      type="checkbox"
      class="form-check-input me-2"
      name="hematomeTissusMous"
      id="field_hematomeTissusMous"
      data-cy="hematomeTissusMous"
      formControlName="hematomeTissusMous"
    />
    <label class="form-check-label mb-0" for="field_hematomeTissusMous">Tissus mous</label>
  </div>
</div>


        <div class="mb-3">
          <label class="form-label" for="field_hematomeFrequence">Hematome Frequence</label>
          <input
            type="number"
            class="form-control"
            name="hematomeFrequence"
            id="field_hematomeFrequence"
            data-cy="hematomeFrequence"
            formControlName="hematomeFrequence"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemarthrose">Hemarthrose</label>
          <select class="form-control" name="hemarthrose" formControlName="hemarthrose" id="field_hemarthrose" data-cy="hemarthrose">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemarthroseSpontane">Hemarthrose Spontane</label>
          <input
            type="checkbox"
            class="form-check"
            name="hemarthroseSpontane"
            id="field_hemarthroseSpontane"
            data-cy="hemarthroseSpontane"
            formControlName="hemarthroseSpontane"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemarthroseProvoque">Hemarthrose Provoque</label>
          <input
            type="checkbox"
            class="form-check"
            name="hemarthroseProvoque"
            id="field_hemarthroseProvoque"
            data-cy="hemarthroseProvoque"
            formControlName="hemarthroseProvoque"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemarthroseSiege">Hemarthrose Siege</label>
          <input
            type="text"
            class="form-control"
            name="hemarthroseSiege"
            id="field_hemarthroseSiege"
            data-cy="hemarthroseSiege"
            formControlName="hemarthroseSiege"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemarthroseFrequence">Hemarthrose Frequence</label>
          <input
            type="number"
            class="form-control"
            name="hemarthroseFrequence"
            id="field_hemarthroseFrequence"
            data-cy="hemarthroseFrequence"
            formControlName="hemarthroseFrequence"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemorragieAmygdalienne">Hemorragie Amygdalienne</label>
          <select
            class="form-control"
            name="hemorragieAmygdalienne"
            formControlName="hemorragieAmygdalienne"
            id="field_hemorragieAmygdalienne"
            data-cy="hemorragieAmygdalienne"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemorragieAmygdalienneFrequence">Hemorragie Amygdalienne Frequence</label>
          <input
            type="number"
            class="form-control"
            name="hemorragieAmygdalienneFrequence"
            id="field_hemorragieAmygdalienneFrequence"
            data-cy="hemorragieAmygdalienneFrequence"
            formControlName="hemorragieAmygdalienneFrequence"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_avulsionDentaire">Avulsion Dentaire</label>
          <select
            class="form-control"
            name="avulsionDentaire"
            formControlName="avulsionDentaire"
            id="field_avulsionDentaire"
            data-cy="avulsionDentaire"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_avulsionPrepare">Avulsion Prepare</label>
          <input
            type="checkbox"
            class="form-check"
            name="avulsionPrepare"
            id="field_avulsionPrepare"
            data-cy="avulsionPrepare"
            formControlName="avulsionPrepare"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_avulsionBienDeroule">Avulsion Bien Deroule</label>
          <select
            class="form-control"
            name="avulsionBienDeroule"
            formControlName="avulsionBienDeroule"
            id="field_avulsionBienDeroule"
            data-cy="avulsionBienDeroule"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_traumatisme">Traumatisme</label>
          <select class="form-control" name="traumatisme" formControlName="traumatisme" id="field_traumatisme" data-cy="traumatisme">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_traumatismeType">Traumatisme Type</label>
          <input
            type="text"
            class="form-control"
            name="traumatismeType"
            id="field_traumatismeType"
            data-cy="traumatismeType"
            formControlName="traumatismeType"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_chirurgie">Chirurgie</label>
          <select class="form-control" name="chirurgie" formControlName="chirurgie" id="field_chirurgie" data-cy="chirurgie">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_chirurgieType">Chirurgie Type</label>
          <input
            type="text"
            class="form-control"
            name="chirurgieType"
            id="field_chirurgieType"
            data-cy="chirurgieType"
            formControlName="chirurgieType"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_chirurgiePrepare">Chirurgie Prepare</label>
          <select
            class="form-control"
            name="chirurgiePrepare"
            formControlName="chirurgiePrepare"
            id="field_chirurgiePrepare"
            data-cy="chirurgiePrepare"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_chirurgieBienDeroule">Chirurgie Bien Deroule</label>
          <select
            class="form-control"
            name="chirurgieBienDeroule"
            formControlName="chirurgieBienDeroule"
            id="field_chirurgieBienDeroule"
            data-cy="chirurgieBienDeroule"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_accouchement">Accouchement</label>
          <select class="form-control" name="accouchement" formControlName="accouchement" id="field_accouchement" data-cy="accouchement">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemorragiePostpartum">Hemorragie Postpartum</label>
          <select
            class="form-control"
            name="hemorragiePostpartum"
            formControlName="hemorragiePostpartum"
            id="field_hemorragiePostpartum"
            data-cy="hemorragiePostpartum"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_circoncision">Circoncision</label>
          <select class="form-control" name="circoncision" formControlName="circoncision" id="field_circoncision" data-cy="circoncision">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_ageCirconcision">Age Circoncision</label>
          <input
            type="number"
            class="form-control"
            name="ageCirconcision"
            id="field_ageCirconcision"
            data-cy="ageCirconcision"
            formControlName="ageCirconcision"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_circoncisionPrepare">Circoncision Prepare</label>
          <select
            class="form-control"
            name="circoncisionPrepare"
            formControlName="circoncisionPrepare"
            id="field_circoncisionPrepare"
            data-cy="circoncisionPrepare"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_circoncisionBienDeroule">Circoncision Bien Deroule</label>
          <select
            class="form-control"
            name="circoncisionBienDeroule"
            formControlName="circoncisionBienDeroule"
            id="field_circoncisionBienDeroule"
            data-cy="circoncisionBienDeroule"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemorragieVisceres">Hemorragie Visceres</label>
          <select
            class="form-control"
            name="hemorragieVisceres"
            formControlName="hemorragieVisceres"
            id="field_hemorragieVisceres"
            data-cy="hemorragieVisceres"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemorragieVisceresSpontane">Hemorragie Visceres Spontane</label>
          <input
            type="checkbox"
            class="form-check"
            name="hemorragieVisceresSpontane"
            id="field_hemorragieVisceresSpontane"
            data-cy="hemorragieVisceresSpontane"
            formControlName="hemorragieVisceresSpontane"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemorragieVisceresProvoque">Hemorragie Visceres Provoque</label>
          <input
            type="checkbox"
            class="form-check"
            name="hemorragieVisceresProvoque"
            id="field_hemorragieVisceresProvoque"
            data-cy="hemorragieVisceresProvoque"
            formControlName="hemorragieVisceresProvoque"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemorragieVisceresType">Hemorragie Visceres Type</label>
          <select
            class="form-control"
            name="hemorragieVisceresType"
            formControlName="hemorragieVisceresType"
            id="field_hemorragieVisceresType"
            data-cy="hemorragieVisceresType"
          >
            <option [ngValue]="null"></option>
            @for (typeHemorragieVisceres of typeHemorragieVisceresValues; track $index) {
              <option [value]="typeHemorragieVisceres">
                {{ { null: '', HDH: 'HDH', HDB: 'HDB', HEMATURIE: 'HEMATURIE', SNC: 'SNC', AUTRE: 'AUTRE' }[typeHemorragieVisceres] }}
              </option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_autreHemorragieVisceres">Autre Hemorragie Visceres</label>
          <input
            type="text"
            class="form-control"
            name="autreHemorragieVisceres"
            id="field_autreHemorragieVisceres"
            data-cy="autreHemorragieVisceres"
            formControlName="autreHemorragieVisceres"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_explorationVisceres">Exploration Visceres</label>
          <input
            type="checkbox"
            class="form-check"
            name="explorationVisceres"
            id="field_explorationVisceres"
            data-cy="explorationVisceres"
            formControlName="explorationVisceres"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_lesionSousJacente">Lesion Sous Jacente</label>
          <input
            type="text"
            class="form-control"
            name="lesionSousJacente"
            id="field_lesionSousJacente"
            data-cy="lesionSousJacente"
            formControlName="lesionSousJacente"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemorragieGrave">Hemorragie Grave</label>
          <select
            class="form-control"
            name="hemorragieGrave"
            formControlName="hemorragieGrave"
            id="field_hemorragieGrave"
            data-cy="hemorragieGrave"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_graveDeglobulisation">Grave Deglobulisation</label>
          <input
            type="checkbox"
            class="form-check"
            name="graveDeglobulisation"
            id="field_graveDeglobulisation"
            data-cy="graveDeglobulisation"
            formControlName="graveDeglobulisation"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_graveEtatDeChoc">Grave Etat De Choc</label>
          <input
            type="checkbox"
            class="form-check"
            name="graveEtatDeChoc"
            id="field_graveEtatDeChoc"
            data-cy="graveEtatDeChoc"
            formControlName="graveEtatDeChoc"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_graveParLocalisation">Grave Par Localisation</label>
          <input
            type="checkbox"
            class="form-check"
            name="graveParLocalisation"
            id="field_graveParLocalisation"
            data-cy="graveParLocalisation"
            formControlName="graveParLocalisation"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_siegeGraviteLocalisation">Siege Gravite Localisation</label>
          <input
            type="text"
            class="form-control"
            name="siegeGraviteLocalisation"
            id="field_siegeGraviteLocalisation"
            data-cy="siegeGraviteLocalisation"
            formControlName="siegeGraviteLocalisation"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_nombreHospitalisations">Nombre Hospitalisations</label>
          <input
            type="number"
            class="form-control"
            name="nombreHospitalisations"
            id="field_nombreHospitalisations"
            data-cy="nombreHospitalisations"
            formControlName="nombreHospitalisations"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_nombreTransfusions">Nombre Transfusions</label>
          <input
            type="number"
            class="form-control"
            name="nombreTransfusions"
            id="field_nombreTransfusions"
            data-cy="nombreTransfusions"
            formControlName="nombreTransfusions"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_scoreISTHBAT">Score ISTHBAT</label>
          <input
            type="number"
            class="form-control"
            name="scoreISTHBAT"
            id="field_scoreISTHBAT"
            data-cy="scoreISTHBAT"
            formControlName="scoreISTHBAT"
          />
        </div>

    </div>
  </div>
</div>

<!-- Accordéon Section 9: TRAITEMENT -->
<div class="accordion-item">
  <h2 class="accordion-header" id="headingTraitement">
    <button
      class="accordion-button collapsed"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#collapseTraitement"
      aria-expanded="false"
      aria-controls="collapseTraitement"
    >
      Traitement
    </button>
  </h2>
  <div
    id="collapseTraitement"
    class="accordion-collapse collapse"
    aria-labelledby="headingTraitement"
    data-bs-parent="#ficheAccordion"
  >
    <div class="accordion-body">
      <!-- Contenu pour la section Traitement -->







      
        <div class="mb-3">
          <label class="form-label" for="field_desmopressine">Desmopressine</label>
          <select
            class="form-control"
            name="desmopressine"
            formControlName="desmopressine"
            id="field_desmopressine"
            data-cy="desmopressine"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_traitementSubstitutifPrevention">Traitement Substitutif Prevention</label>
          <select
            class="form-control"
            name="traitementSubstitutifPrevention"
            formControlName="traitementSubstitutifPrevention"
            id="field_traitementSubstitutifPrevention"
            data-cy="traitementSubstitutifPrevention"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_traitementPreparation">Traitement Preparation</label>
          <input
            type="text"
            class="form-control"
            name="traitementPreparation"
            id="field_traitementPreparation"
            data-cy="traitementPreparation"
            formControlName="traitementPreparation"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_traitementSubstitutifCuratif">Traitement Substitutif Curatif</label>
          <select
            class="form-control"
            name="traitementSubstitutifCuratif"
            formControlName="traitementSubstitutifCuratif"
            id="field_traitementSubstitutifCuratif"
            data-cy="traitementSubstitutifCuratif"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_cryoprecipite">Cryoprecipite</label>
          <select
            class="form-control"
            name="cryoprecipite"
            formControlName="cryoprecipite"
            id="field_cryoprecipite"
            data-cy="cryoprecipite"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_pfc">Pfc</label>
          <select class="form-control" name="pfc" formControlName="pfc" id="field_pfc" data-cy="pfc">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_concentreFVIIIFVW">Concentre FVIIIFVW</label>
          <select
            class="form-control"
            name="concentreFVIIIFVW"
            formControlName="concentreFVIIIFVW"
            id="field_concentreFVIIIFVW"
            data-cy="concentreFVIIIFVW"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_concentreFVW">Concentre FVW</label>
          <select class="form-control" name="concentreFVW" formControlName="concentreFVW" id="field_concentreFVW" data-cy="concentreFVW">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_concentreFVIII">Concentre FVIII</label>
          <select
            class="form-control"
            name="concentreFVIII"
            formControlName="concentreFVIII"
            id="field_concentreFVIII"
            data-cy="concentreFVIII"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_agentBypassant">Agent Bypassant</label>
          <select
            class="form-control"
            name="agentBypassant"
            formControlName="agentBypassant"
            id="field_agentBypassant"
            data-cy="agentBypassant"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_antifibrinolytiques">Antifibrinolytiques</label>
          <select
            class="form-control"
            name="antifibrinolytiques"
            formControlName="antifibrinolytiques"
            id="field_antifibrinolytiques"
            data-cy="antifibrinolytiques"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_voieOrale">Voie Orale</label>
          <input type="checkbox" class="form-check" name="voieOrale" id="field_voieOrale" data-cy="voieOrale" formControlName="voieOrale" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_voieIV">Voie IV</label>
          <input type="checkbox" class="form-check" name="voieIV" id="field_voieIV" data-cy="voieIV" formControlName="voieIV" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_voieLocale">Voie Locale</label>
          <input
            type="checkbox"
            class="form-check"
            name="voieLocale"
            id="field_voieLocale"
            data-cy="voieLocale"
            formControlName="voieLocale"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_oestroprogestatifs">Oestroprogestatifs</label>
          <select
            class="form-control"
            name="oestroprogestatifs"
            formControlName="oestroprogestatifs"
            id="field_oestroprogestatifs"
            data-cy="oestroprogestatifs"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_traitementAntalgique">Traitement Antalgique</label>
          <select
            class="form-control"
            name="traitementAntalgique"
            formControlName="traitementAntalgique"
            id="field_traitementAntalgique"
            data-cy="traitementAntalgique"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_corticotherapie">Corticotherapie</label>
          <select
            class="form-control"
            name="corticotherapie"
            formControlName="corticotherapie"
            id="field_corticotherapie"
            data-cy="corticotherapie"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_kinesitherapie">Kinesitherapie</label>
          <select
            class="form-control"
            name="kinesitherapie"
            formControlName="kinesitherapie"
            id="field_kinesitherapie"
            data-cy="kinesitherapie"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_traitementMartial">Traitement Martial</label>
          <select
            class="form-control"
            name="traitementMartial"
            formControlName="traitementMartial"
            id="field_traitementMartial"
            data-cy="traitementMartial"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_culotsGlobulaires">Culots Globulaires</label>
          <select
            class="form-control"
            name="culotsGlobulaires"
            formControlName="culotsGlobulaires"
            id="field_culotsGlobulaires"
            data-cy="culotsGlobulaires"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_nombreCulotsGlobulaires">Nombre Culots Globulaires</label>
          <input
            type="number"
            class="form-control"
            name="nombreCulotsGlobulaires"
            id="field_nombreCulotsGlobulaires"
            data-cy="nombreCulotsGlobulaires"
            formControlName="nombreCulotsGlobulaires"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_immunosuppresseur">Immunosuppresseur</label>
          <select
            class="form-control"
            name="immunosuppresseur"
            formControlName="immunosuppresseur"
            id="field_immunosuppresseur"
            data-cy="immunosuppresseur"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_nomImmunosuppresseur">Nom Immunosuppresseur</label>
          <input
            type="text"
            class="form-control"
            name="nomImmunosuppresseur"
            id="field_nomImmunosuppresseur"
            data-cy="nomImmunosuppresseur"
            formControlName="nomImmunosuppresseur"
          />
        </div>


</div>
  </div>
</div>

<!-- Accordéon Section 10: COMPLICATIONS LIEES AU TRAITEMENT -->
<div class="accordion-item">
  <h2 class="accordion-header" id="headingComplicationsLieesAuTraitement">
    <button
      class="accordion-button collapsed"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#collapseComplicationsLieesAuTraitement"
      aria-expanded="false"
      aria-controls="collapseComplicationsLieesAuTraitement"
    >
      Complications liées au traitement
    </button>
  </h2>
  <div
    id="collapseComplicationsLieesAuTraitement"
    class="accordion-collapse collapse"
    aria-labelledby="headingComplicationsLieesAuTraitement"
    data-bs-parent="#ficheAccordion"
  >
    <div class="accordion-body">
      <!-- Contenu pour la section ComplicationsLieesAuTraitement -->
      



      
        <div class="mb-3">
          <label class="form-label" for="field_anemie">Anemie</label>
          <select class="form-control" name="anemie" formControlName="anemie" id="field_anemie" data-cy="anemie">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_anemieSevere">Anemie Severe</label>
          <input
            type="checkbox"
            class="form-check"
            name="anemieSevere"
            id="field_anemieSevere"
            data-cy="anemieSevere"
            formControlName="anemieSevere"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_tauxHb">Taux Hb</label>
          <input type="number" class="form-control" name="tauxHb" id="field_tauxHb" data-cy="tauxHb" formControlName="tauxHb" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_anticorpsAntiFVW">Anticorps Anti FVW</label>
          <select
            class="form-control"
            name="anticorpsAntiFVW"
            formControlName="anticorpsAntiFVW"
            id="field_anticorpsAntiFVW"
            data-cy="anticorpsAntiFVW"
          >
            <option [ngValue]="null"></option>
            @for (resultatSerologie of resultatSerologieValues; track $index) {
              <option [value]="resultatSerologie">
                {{ { null: '', POSITIF: 'POSITIF', NEGATIF: 'NEGATIF', NON_FAIT: 'NON_FAIT' }[resultatSerologie] }}
              </option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_anticorpsAntiFVIII">Anticorps Anti FVIII</label>
          <select
            class="form-control"
            name="anticorpsAntiFVIII"
            formControlName="anticorpsAntiFVIII"
            id="field_anticorpsAntiFVIII"
            data-cy="anticorpsAntiFVIII"
          >
            <option [ngValue]="null"></option>
            @for (resultatSerologie of resultatSerologieValues; track $index) {
              <option [value]="resultatSerologie">
                {{ { null: '', POSITIF: 'POSITIF', NEGATIF: 'NEGATIF', NON_FAIT: 'NON_FAIT' }[resultatSerologie] }}
              </option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hepatiteB">Hepatite B</label>
          <select class="form-control" name="hepatiteB" formControlName="hepatiteB" id="field_hepatiteB" data-cy="hepatiteB">
            <option [ngValue]="null"></option>
            @for (resultatSerologie of resultatSerologieValues; track $index) {
              <option [value]="resultatSerologie">
                {{ { null: '', POSITIF: 'POSITIF', NEGATIF: 'NEGATIF', NON_FAIT: 'NON_FAIT' }[resultatSerologie] }}
              </option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hepatiteC">Hepatite C</label>
          <select class="form-control" name="hepatiteC" formControlName="hepatiteC" id="field_hepatiteC" data-cy="hepatiteC">
            <option [ngValue]="null"></option>
            @for (resultatSerologie of resultatSerologieValues; track $index) {
              <option [value]="resultatSerologie">
                {{ { null: '', POSITIF: 'POSITIF', NEGATIF: 'NEGATIF', NON_FAIT: 'NON_FAIT' }[resultatSerologie] }}
              </option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hiv">Hiv</label>
          <select class="form-control" name="hiv" formControlName="hiv" id="field_hiv" data-cy="hiv">
            <option [ngValue]="null"></option>
            @for (resultatSerologie of resultatSerologieValues; track $index) {
              <option [value]="resultatSerologie">
                {{ { null: '', POSITIF: 'POSITIF', NEGATIF: 'NEGATIF', NON_FAIT: 'NON_FAIT' }[resultatSerologie] }}
              </option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_thrombose">Thrombose</label>
          <input type="checkbox" class="form-check" name="thrombose" id="field_thrombose" data-cy="thrombose" formControlName="thrombose" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_reactionAllergique">Reaction Allergique</label>
          <input
            type="checkbox"
            class="form-check"
            name="reactionAllergique"
            id="field_reactionAllergique"
            data-cy="reactionAllergique"
            formControlName="reactionAllergique"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_autreComplication">Autre Complication</label>
          <input
            type="checkbox"
            class="form-check"
            name="autreComplication"
            id="field_autreComplication"
            data-cy="autreComplication"
            formControlName="autreComplication"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_autreComplicationDescription">Autre Complication Description</label>
          <input
            type="text"
            class="form-control"
            name="autreComplicationDescription"
            id="field_autreComplicationDescription"
            data-cy="autreComplicationDescription"
            formControlName="autreComplicationDescription"
          />
        </div>
</div>
  </div>
</div>

<!-- Accordéon Section 12: ETAT ACTUEL -->
<div class="accordion-item">
  <h2 class="accordion-header" id="headingEtatActuel">
    <button
      class="accordion-button collapsed"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#collapseEtatActuel"
      aria-expanded="false"
      aria-controls="collapseEtatActuel"
    >
      Etat Actuel
    </button>
  </h2>
  <div
    id="collapseEtatActuel"
    class="accordion-collapse collapse"
    aria-labelledby="headingEtatActuel"
    data-bs-parent="#ficheAccordion"
  >
    <div class="accordion-body">
      <!-- Contenu pour la section Etat Actuel -->
      
      

      
<!-- Sélection Adhérence Thérapeutique -->
<div class="mb-3">
  <label class="form-label" for="field_adherenceTherapeutique">Adhérence Thérapeutique</label>
  <select
    class="form-control"
    name="adherenceTherapeutique"
    formControlName="adherenceTherapeutique"
    id="field_adherenceTherapeutique"
    data-cy="adherenceTherapeutique"
  >
    <option [ngValue]="null"></option>
    @for (ouiNonNP of ouiNonNPValues; track $index) {
      <option [value]="ouiNonNP">
        {{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}
      </option>
    }
  </select>
</div>

<!-- Affichage conditionnel si NON -->
@let adherenceValue = editForm.get('adherenceTherapeutique')?.value;
@if (adherenceValue === 'NON') {
  <div class="mb-3">
    <label class="form-label" for="field_causeNonAdherence">Cause Non Adhérence</label>
    <input
      type="text"
      class="form-control"
      name="causeNonAdherence"
      id="field_causeNonAdherence"
      data-cy="causeNonAdherence"
      formControlName="causeNonAdherence"
    />
  </div>
}


        <div class="mb-3">
          <label class="form-label" for="field_statutSocial">Statut Social</label>
          <select class="form-control" name="statutSocial" formControlName="statutSocial" id="field_statutSocial" data-cy="statutSocial">
            <option [ngValue]="null"></option>
            @for (statutSocial of statutSocialValues; track $index) {
              <option [value]="statutSocial">
                {{
                  { null: '', CHOMEUR: 'CHOMEUR', TRAVAILLE: 'TRAVAILLE', SCOLARISE: 'SCOLARISE', PRESCOLARISE: 'PRESCOLARISE' }[
                    statutSocial
                  ]
                }}
              </option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_marie">Marie</label>
          <select class="form-control" name="marie" formControlName="marie" id="field_marie" data-cy="marie">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_enfants">Enfants</label>
          <select class="form-control" name="enfants" formControlName="enfants" id="field_enfants" data-cy="enfants">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

<!-- Activité Physique -->
<div class="mb-3">
  <label class="form-label" for="field_activitePhysique">Activité Physique</label>
  <select
    class="form-control"
    name="activitePhysique"
    formControlName="activitePhysique"
    id="field_activitePhysique"
    data-cy="activitePhysique"
  >
    <option [ngValue]="null"></option>
    @for (ouiNonNP of ouiNonNPValues; track $index) {
      <option [value]="ouiNonNP">
        {{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}
      </option>
    }
  </select>
</div>

<!-- Affichage conditionnel : Type Activité Physique -->
@let activiteValue = editForm.get('activitePhysique')?.value;
@if (activiteValue === 'OUI') {
  <div class="mb-3">
    <label class="form-label" for="field_typeActivitePhysique">Type Activité Physique</label>
    <input
      type="text"
      class="form-control"
      name="typeActivitePhysique"
      id="field_typeActivitePhysique"
      data-cy="typeActivitePhysique"
      formControlName="typeActivitePhysique"
    />
  </div>
}


<!-- Séquelles -->
<div class="mb-3">
  <label class="form-label" for="field_sequelles">Séquelles</label>
  <select
    class="form-control"
    name="sequelles"
    formControlName="sequelles"
    id="field_sequelles"
    data-cy="sequelles"
  >
    <option [ngValue]="null"></option>
    @for (ouiNonNP of ouiNonNPValues; track $index) {
      <option [value]="ouiNonNP">
        {{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}
      </option>
    }
  </select>
</div>

<!-- Condition : afficher seulement si "OUI" -->
@let sequellesValue = editForm.get('sequelles')?.value;
@if (sequellesValue === 'OUI') {
  <div class="mb-3">
    <label class="form-label" for="field_typeSequelles">Type Séquelles</label>
    <input
      type="text"
      class="form-control"
      name="typeSequelles"
      id="field_typeSequelles"
      data-cy="typeSequelles"
      formControlName="typeSequelles"
    />
  </div>
}


        <div class="mb-3">
          <label class="form-label" for="field_patientDecede">Patient Decede</label>
          <select
            class="form-control"
            name="patientDecede"
            formControlName="patientDecede"
            id="field_patientDecede"
            data-cy="patientDecede"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_dateDeces">Date Deces</label>
          <div class="input-group">
            <input
              id="field_dateDeces"
              data-cy="dateDeces"
              type="text"
              class="form-control"
              name="dateDeces"
              ngbDatepicker
              #dateDecesDp="ngbDatepicker"
              formControlName="dateDeces"
            />
            <button type="button" class="btn btn-secondary" (click)="dateDecesDp.toggle()"><fa-icon icon="calendar-alt"></fa-icon></button>
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_ageDeces">Age Deces</label>
          <input type="number" class="form-control" name="ageDeces" id="field_ageDeces" data-cy="ageDeces" formControlName="ageDeces" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_causeDeces">Cause Deces</label>
          <select class="form-control" name="causeDeces" formControlName="causeDeces" id="field_causeDeces" data-cy="causeDeces">
            <option [ngValue]="null"></option>
            @for (causeDeces of causeDecesValues; track $index) {
              <option [value]="causeDeces">
                {{
                  {
                    null: '',
                    HEMORRAGIE_SNC: 'HEMORRAGIE_SNC',
                    HEMORRAGIE_AUTRE: 'HEMORRAGIE_AUTRE',
                    HIV: 'HIV',
                    INFECTION_AUTRE: 'INFECTION_AUTRE',
                    THROMBOEMBOLIQUE: 'THROMBOEMBOLIQUE',
                    CANCER: 'CANCER',
                    COVID19: 'COVID19',
                    INCONNUE: 'INCONNUE',
                    AUTRE: 'AUTRE',
                  }[causeDeces]
                }}
              </option>
            }
          </select>
        </div>
      </div>

    </div>
  </div>
</div>
        </div>

    
      <div>
        <button type="button" id="cancel-save" data-cy="entityCreateCancelButton" class="btn btn-secondary" (click)="previousState()">
          <fa-icon icon="ban"></fa-icon>&nbsp;<span>Annuler</span>
        </button>

        <button
          type="submit"
          id="save-entity"
          data-cy="entityCreateSaveButton"
          [disabled]="editForm.invalid || isSaving"
          class="btn btn-primary"
        >
          <fa-icon icon="save"></fa-icon>&nbsp;<span>Sauvegarder</span>
        </button>
      </div>
    </form>
  </div>
</div>
