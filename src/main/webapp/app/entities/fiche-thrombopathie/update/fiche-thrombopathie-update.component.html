<div class="d-flex justify-content-center">
  <div class="col-8">
    <form name="editForm" novalidate (ngSubmit)="save()" [formGroup]="editForm">
      <h2 id="jhi-fiche-thrombopathie-heading" data-cy="FicheThrombopathieCreateUpdateHeading">Créer ou éditer un Fiche Thrombopathie</h2>

      <div>
        <jhi-alert-error></jhi-alert-error>

        @if (editForm.controls.id.value !== null) {
          <div class="mb-3">
            <label class="form-label" for="field_id">ID</label>
            <input type="number" class="form-control" name="id" id="field_id" data-cy="id" formControlName="id" [readonly]="true" />
          </div>
        }

       <div class="accordion" id="ficheAccordion">
          <!-- Accordéon Section 1: Identification -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingIdentification">
              <button
                class="accordion-button"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseIdentification"
                aria-expanded="true"
                aria-controls="collapseIdentification"
              >
                Identification
              </button>
            </h2>
            <div
              id="collapseIdentification"
              class="accordion-collapse collapse show"
              aria-labelledby="headingIdentification"
              data-bs-parent="#ficheAccordion"
            >
              <div class="accordion-body">
                <!-- Champs pour la section Identification -->
                

        <div class="mb-3">
          <label class="form-label" for="field_dossierNumber">Numéro de dossier</label>
          <input
            type="text"
            class="form-control"
            name="dossierNumber"
            id="field_dossierNumber"
            data-cy="dossierNumber"
            formControlName="dossierNumber"
          />
        </div>

        @let ordreNumberRef = editForm.get('ordreNumber')!;
        <div class="mb-3">
          <label class="form-label" for="field_ordreNumber">Numéro d'ordre</label>
          <input
            type="text"
            class="form-control"
            name="ordreNumber"
            id="field_ordreNumber"
            data-cy="ordreNumber"
            formControlName="ordreNumber"
          />
          @if (ordreNumberRef.invalid && (ordreNumberRef.dirty || ordreNumberRef.touched)) {
            <div>
              @if (editForm.get('ordreNumber')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let indexNumberRef = editForm.get('indexNumber')!;
        <div class="mb-3">
          <label class="form-label" for="field_indexNumber">Numéro d'index</label>
          <input
            type="text"
            class="form-control"
            name="indexNumber"
            id="field_indexNumber"
            data-cy="indexNumber"
            formControlName="indexNumber"
          />
          @if (indexNumberRef.invalid && (indexNumberRef.dirty || indexNumberRef.touched)) {
            <div>
              @if (editForm.get('indexNumber')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let prenomRef = editForm.get('prenom')!;
        <div class="mb-3">
          <label class="form-label" for="field_prenom">Prénom</label>
          <input type="text" class="form-control" name="prenom" id="field_prenom" data-cy="prenom" formControlName="prenom" />
          @if (prenomRef.invalid && (prenomRef.dirty || prenomRef.touched)) {
            <div>
              @if (editForm.get('prenom')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let nomRef = editForm.get('nom')!;
        <div class="mb-3">
          <label class="form-label" for="field_nom">Nom</label>
          <input type="text" class="form-control" name="nom" id="field_nom" data-cy="nom" formControlName="nom" />
          @if (nomRef.invalid && (nomRef.dirty || nomRef.touched)) {
            <div>
              @if (editForm.get('nom')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let nomJeuneFilleRef = editForm.get('nomJeuneFille')!;
        <div class="mb-3">
          <label class="form-label" for="field_nomJeuneFille">Nom de Jeune Fille</label>
          <input
            type="text"
            class="form-control"
            name="nomJeuneFille"
            id="field_nomJeuneFille"
            data-cy="nomJeuneFille"
            formControlName="nomJeuneFille"
          />
          @if (nomJeuneFilleRef.invalid && (nomJeuneFilleRef.dirty || nomJeuneFilleRef.touched)) {
            <div>
              @if (editForm.get('nomJeuneFille')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let professionRef = editForm.get('profession')!;
        <div class="mb-3">
          <label class="form-label" for="field_profession">Profession</label>
          <input
            type="text"
            class="form-control"
            name="profession"
            id="field_profession"
            data-cy="profession"
            formControlName="profession"
          />
          @if (professionRef.invalid && (professionRef.dirty || professionRef.touched)) {
            <div>
              @if (editForm.get('profession')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let etatCivilRef = editForm.get('etatCivil')!;
        <div class="mb-3">
          <label class="form-label" for="field_etatCivil">Etat Civil</label>
          <select class="form-control" name="etatCivil" formControlName="etatCivil" id="field_etatCivil" data-cy="etatCivil">
            <option [ngValue]="null"></option>
            @for (civilStatus of civilStatusValues; track $index) {
              <option [value]="civilStatus">
                {{ { null: '', CELIBATAIRE: 'CELIBATAIRE', MARIE: 'MARIE', DIVORCE: 'DIVORCE', NP: 'NP' }[civilStatus] }}
              </option>
            }
          </select>
          @if (etatCivilRef.invalid && (etatCivilRef.dirty || etatCivilRef.touched)) {
            <div>
              @if (editForm.get('etatCivil')?.errors?.required) {
                <small class="form-text text-danger">Ce champ est obligatoire.</small>
              }
            </div>
          }
        </div>

        @let serviceCliniqueRef = editForm.get('serviceClinique')!;
        <div class="mb-3">
          <label class="form-label" for="field_serviceClinique">Service Clinique</label>
          <select
            class="form-control"
            name="serviceClinique"
            formControlName="serviceClinique"
            id="field_serviceClinique"
            data-cy="serviceClinique"
          >
            <option [ngValue]="null"></option>
            @for (serviceCliniqueType of serviceCliniqueTypeValues; track $index) {
              <option [value]="serviceCliniqueType">
                {{
                  {
                    null: '',
                    HTO: 'HTO',
                    PRIVE: 'PRIVE',
                    PEDIATRIE_A: 'PEDIATRIE_A',
                    PEDIATRIE_B: 'PEDIATRIE_B',
                    PUR: 'PUR',
                    GYNECO: 'GYNECO',
                    AUTRE: 'AUTRE',
                  }[serviceCliniqueType]
                }}
              </option>
            }
          </select>
          @if (serviceCliniqueRef.invalid && (serviceCliniqueRef.dirty || serviceCliniqueRef.touched)) {
            <div>
              @if (editForm.get('serviceClinique')?.errors?.required) {
                <small class="form-text text-danger">Ce champ est obligatoire.</small>
              }
            </div>
          }
        </div>

        @let autreServiceCliniqueRef = editForm.get('autreServiceClinique')!;
        <div class="mb-3">
          <label class="form-label" for="field_autreServiceClinique">Autre Service Clinique</label>
          <input
            type="text"
            class="form-control"
            name="autreServiceClinique"
            id="field_autreServiceClinique"
            data-cy="autreServiceClinique"
            formControlName="autreServiceClinique"
          />
          @if (autreServiceCliniqueRef.invalid && (autreServiceCliniqueRef.dirty || autreServiceCliniqueRef.touched)) {
            <div>
              @if (editForm.get('autreServiceClinique')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
              }
            </div>
          }
        </div>

        @let couvertureSocialeRef = editForm.get('couvertureSociale')!;
        <div class="mb-3">
          <label class="form-label" for="field_couvertureSociale">Couverture Sociale</label>
          <select
            class="form-control"
            name="couvertureSociale"
            formControlName="couvertureSociale"
            id="field_couvertureSociale"
            data-cy="couvertureSociale"
          >
            <option [ngValue]="null"></option>
            @for (couvertureSociale of couvertureSocialeValues; track $index) {
              <option [value]="couvertureSociale">
                {{ { null: '', CNAM: 'CNAM', INDIGENT: 'INDIGENT', NP: 'NP' }[couvertureSociale] }}
              </option>
            }
          </select>
          @if (couvertureSocialeRef.invalid && (couvertureSocialeRef.dirty || couvertureSocialeRef.touched)) {
            <div>
              @if (editForm.get('couvertureSociale')?.errors?.required) {
                <small class="form-text text-danger">Ce champ est obligatoire.</small>
              }
            </div>
          }
        </div>

        @let sexeRef = editForm.get('sexe')!;
        <div class="mb-3">
          <label class="form-label" for="field_sexe">Sexe</label>
          <select class="form-control" name="sexe" formControlName="sexe" id="field_sexe" data-cy="sexe">
            <option [ngValue]="null"></option>
            @for (gender of genderValues; track $index) {
              <option [value]="gender">{{ { null: '', MASCULIN: 'MASCULIN', FEMININ: 'FEMININ' }[gender] }}</option>
            }
          </select>
          @if (sexeRef.invalid && (sexeRef.dirty || sexeRef.touched)) {
            <div>
              @if (editForm.get('sexe')?.errors?.required) {
                <small class="form-text text-danger">Ce champ est obligatoire.</small>
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_dateNaissance">Date de Naissance</label>
          <div class="input-group">
            <input
              id="field_dateNaissance"
              data-cy="dateNaissance"
              type="text"
              class="form-control"
              name="dateNaissance"
              ngbDatepicker
              #dateNaissanceDp="ngbDatepicker"
              formControlName="dateNaissance"
            />
            <button type="button" class="btn btn-secondary" (click)="dateNaissanceDp.toggle()">
              <fa-icon icon="calendar-alt"></fa-icon>
            </button>
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_ageActuel">Age Actuel</label>
          <input type="number" class="form-control" name="ageActuel" id="field_ageActuel" data-cy="ageActuel" formControlName="ageActuel" readonly/>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_origine">Origine</label>
          <select class="form-control" name="origine" formControlName="origine" id="field_origine" data-cy="origine">
            <option [ngValue]="null"></option>
            @for (region of regionValues; track $index) {
              <option [value]="region">
                {{
                  {
                    null: '',
                    SFAX: 'SFAX',
                    GABES: 'GABES',
                    GAFSA: 'GAFSA',
                    KEBILI: 'KEBILI',
                    TOZEUR: 'TOZEUR',
                    MEDNINE: 'MEDNINE',
                    TATAOUINE: 'TATAOUINE',
                    SBZ: 'SBZ',
                    KASSERINE: 'KASSERINE',
                    MAHDIA: 'MAHDIA',
                    KAIRAOUANE: 'KAIRAOUANE',
                    MONASTIR: 'MONASTIR',
                    SOUSSE: 'SOUSSE',
                    AUTRE: 'AUTRE',
                  }[region]
                }}
              </option>
            }
          </select>
        </div>

        @let autreOrigineRef = editForm.get('autreOrigine')!;
        <div class="mb-3">
          <label class="form-label" for="field_autreOrigine">Autre Origine</label>
          <input
            type="text"
            class="form-control"
            name="autreOrigine"
            id="field_autreOrigine"
            data-cy="autreOrigine"
            formControlName="autreOrigine"
          />
          @if (autreOrigineRef.invalid && (autreOrigineRef.dirty || autreOrigineRef.touched)) {
            <div>
              @if (editForm.get('autreOrigine')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let adresseRef = editForm.get('adresse')!;
        <div class="mb-3">
          <label class="form-label" for="field_adresse">Adresse</label>
          <input type="text" class="form-control" name="adresse" id="field_adresse" data-cy="adresse" formControlName="adresse" />
          @if (adresseRef.invalid && (adresseRef.dirty || adresseRef.touched)) {
            <div>
              @if (editForm.get('adresse')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let telephoneRef = editForm.get('telephone')!;
        <div class="mb-3">
          <label class="form-label" for="field_telephone">Téléphone</label>
          <input type="text" class="form-control" name="telephone" id="field_telephone" data-cy="telephone" formControlName="telephone" />
          @if (telephoneRef.invalid && (telephoneRef.dirty || telephoneRef.touched)) {
            <div>
              @if (editForm.get('telephone')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 20 caractères.</small>
              }
            </div>
          }
        </div>

        @let prenomPereRef = editForm.get('prenomPere')!;
        <div class="mb-3">
          <label class="form-label" for="field_prenomPere">Prénom Père</label>
          <input
            type="text"
            class="form-control"
            name="prenomPere"
            id="field_prenomPere"
            data-cy="prenomPere"
            formControlName="prenomPere"
          />
          @if (prenomPereRef.invalid && (prenomPereRef.dirty || prenomPereRef.touched)) {
            <div>
              @if (editForm.get('prenomPere')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let professionPereRef = editForm.get('professionPere')!;
        <div class="mb-3">
          <label class="form-label" for="field_professionPere">Profession Père</label>
          <input
            type="text"
            class="form-control"
            name="professionPere"
            id="field_professionPere"
            data-cy="professionPere"
            formControlName="professionPere"
          />
          @if (professionPereRef.invalid && (professionPereRef.dirty || professionPereRef.touched)) {
            <div>
              @if (editForm.get('professionPere')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let nomPrenomMereRef = editForm.get('nomPrenomMere')!;
        <div class="mb-3">
          <label class="form-label" for="field_nomPrenomMere">Nom Prénom Mère</label>
          <input
            type="text"
            class="form-control"
            name="nomPrenomMere"
            id="field_nomPrenomMere"
            data-cy="nomPrenomMere"
            formControlName="nomPrenomMere"
          />
          @if (nomPrenomMereRef.invalid && (nomPrenomMereRef.dirty || nomPrenomMereRef.touched)) {
            <div>
              @if (editForm.get('nomPrenomMere')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let professionMereRef = editForm.get('professionMere')!;
        <div class="mb-3">
          <label class="form-label" for="field_professionMere">Profession Mère</label>
          <input
            type="text"
            class="form-control"
            name="professionMere"
            id="field_professionMere"
            data-cy="professionMere"
            formControlName="professionMere"
          />
          @if (professionMereRef.invalid && (professionMereRef.dirty || professionMereRef.touched)) {
            <div>
              @if (editForm.get('professionMere')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let medecinTraitantRef = editForm.get('medecinTraitant')!;
        <div class="mb-3">
          <label class="form-label" for="field_medecinTraitant">Médecin Traitant</label>
          <input
            type="text"
            class="form-control"
            name="medecinTraitant"
            id="field_medecinTraitant"
            data-cy="medecinTraitant"
            formControlName="medecinTraitant"
          />
          @if (medecinTraitantRef.invalid && (medecinTraitantRef.dirty || medecinTraitantRef.touched)) {
            <div>
              @if (editForm.get('medecinTraitant')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let serviceOrigineRef = editForm.get('serviceOrigine')!;
        <div class="mb-3">
          <label class="form-label" for="field_serviceOrigine">Service Origine</label>
          <input
            type="text"
            class="form-control"
            name="serviceOrigine"
            id="field_serviceOrigine"
            data-cy="serviceOrigine"
            formControlName="serviceOrigine"
          />
          @if (serviceOrigineRef.invalid && (serviceOrigineRef.dirty || serviceOrigineRef.touched)) {
            <div>
              @if (editForm.get('serviceOrigine')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let biologisteResponsableDgRef = editForm.get('biologisteResponsableDg')!;
        <div class="mb-3">
          <label class="form-label" for="field_biologisteResponsableDg">Biologiste Responsable Dg</label>
          <input
            type="text"
            class="form-control"
            name="biologisteResponsableDg"
            id="field_biologisteResponsableDg"
            data-cy="biologisteResponsableDg"
            formControlName="biologisteResponsableDg"
          />
          @if (biologisteResponsableDgRef.invalid && (biologisteResponsableDgRef.dirty || biologisteResponsableDgRef.touched)) {
            <div>
              @if (editForm.get('biologisteResponsableDg')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        @let diagnosticRef = editForm.get('diagnostic')!;
        <div class="mb-3">
          <label class="form-label" for="field_diagnostic">Diagnostic</label>
          <select class="form-control" name="diagnostic" formControlName="diagnostic" id="field_diagnostic" data-cy="diagnostic">
            <option [ngValue]="null"></option>
            @for (diagnosticType of diagnosticTypeValues; track $index) {
              <option [value]="diagnosticType">
                {{
                  {
                    null: '',
                    HEMOPHILIE: 'HEMOPHILIE',
                    WILLEBRAND: 'WILLEBRAND',
                    THROMBOPATHIE: 'THROMBOPATHIE',
                    DEFICIT_FACTEUR_VII: 'DEFICIT_FACTEUR_VII',
                    DEFICIT_FACTEUR_XI: 'DEFICIT_FACTEUR_XI',
                    DEFICIT_FACTEUR_XIII: 'DEFICIT_FACTEUR_XIII',
                    DEFICIT_COMBINE: 'DEFICIT_COMBINE',
                    AUTRE: 'AUTRE',
                  }[diagnosticType]
                }}
              </option>
            }
          </select>
          @if (diagnosticRef.invalid && (diagnosticRef.dirty || diagnosticRef.touched)) {
            <div>
              @if (editForm.get('diagnostic')?.errors?.required) {
                <small class="form-text text-danger">Ce champ est obligatoire.</small>
              }
            </div>
          }
        </div>

        @let autreDiagnosticRef = editForm.get('autreDiagnostic')!;
        <div class="mb-3">
          <label class="form-label" for="field_autreDiagnostic">Autre Diagnostic</label>
          <input
            type="text"
            class="form-control"
            name="autreDiagnostic"
            id="field_autreDiagnostic"
            data-cy="autreDiagnostic"
            formControlName="autreDiagnostic"
          />
          @if (autreDiagnosticRef.invalid && (autreDiagnosticRef.dirty || autreDiagnosticRef.touched)) {
            <div>
              @if (editForm.get('autreDiagnostic')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_anneeDiagnostic">Année Diagnostic</label>
          <input
            type="number"
            class="form-control"
            name="anneeDiagnostic"
            id="field_anneeDiagnostic"
            data-cy="anneeDiagnostic"
            formControlName="anneeDiagnostic"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_dateEnregistrementRegistre">Date Enregistrement Registre</label>
          <div class="input-group">
            <input
              id="field_dateEnregistrementRegistre"
              data-cy="dateEnregistrementRegistre"
              type="text"
              class="form-control"
              name="dateEnregistrementRegistre"
              ngbDatepicker
              #dateEnregistrementRegistreDp="ngbDatepicker"
              formControlName="dateEnregistrementRegistre"
            />
            <button type="button" class="btn btn-secondary" (click)="dateEnregistrementRegistreDp.toggle()">
              <fa-icon icon="calendar-alt"></fa-icon>
            </button>
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_consentementRegistre">Consentement Registre</label>
          <select
            class="form-control"
            name="consentementRegistre"
            formControlName="consentementRegistre"
            id="field_consentementRegistre"
            data-cy="consentementRegistre"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

                
              </div>
            </div>
          </div>


<!-- Accordéon Section 2: Antécédents -->
<div class="accordion-item">
  <h2 class="accordion-header" id="headingAntecedents">
    <button
      class="accordion-button collapsed"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#collapseAntecedents"
      aria-expanded="false"
      aria-controls="collapseAntecedents"
    >
      Antécédents
    </button>
  </h2>
  <div
    id="collapseAntecedents"
    class="accordion-collapse collapse"
    aria-labelledby="headingAntecedents"
    data-bs-parent="#ficheAccordion"
  >
    <div class="accordion-body">
      <!-- Contenu pour la section Antécédents -->
      
        <div class="mb-3">
          <label class="form-label" for="field_parentsConsanguins">Parents Consanguins</label>
          <select
            class="form-control"
            name="parentsConsanguins"
            formControlName="parentsConsanguins"
            id="field_parentsConsanguins"
            data-cy="parentsConsanguins"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_degreParenteConsanguins">Degre Parente Consanguins</label>
          <select
            class="form-control"
            name="degreParenteConsanguins"
            formControlName="degreParenteConsanguins"
            id="field_degreParenteConsanguins"
            data-cy="degreParenteConsanguins"
          >
            <option [ngValue]="null"></option>
            @for (degreParente of degreParenteValues; track $index) {
              <option [value]="degreParente">
                {{
                  { null: '', TROISIEME_DEGRE: 'TROISIEME_DEGRE', QUATRIEME_DEGRE: 'QUATRIEME_DEGRE', LOINTAIN: 'LOINTAIN' }[degreParente]
                }}
              </option>
            }
          </select>
        </div>

<!-- Champ principal -->
<div class="mb-3">
  <label class="form-label" for="field_casSimilaires">Cas Similaires dans la famille</label>
  <select
    class="form-control"
    name="casSimilaires"
    formControlName="casSimilaires"
    id="field_casSimilaires"
    data-cy="casSimilaires"
  >
    <option [ngValue]="null"></option>
    @for (ouiNonNP of ouiNonNPValues; track $index) {
      <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
    }
  </select>
</div>

<!-- Condition affichage si OUI -->
@let casSimilaires = editForm.get('casSimilaires')?.value;
@if (casSimilaires === 'OUI') {

  <div class="mb-3">
    <label class="form-label" for="field_nombreCas">Nombre Cas</label>
    <input
      type="number"
      class="form-control"
      name="nombreCas"
      id="field_nombreCas"
      data-cy="nombreCas"
      formControlName="nombreCas"
    />
  </div>

  @let degreParenteCasSimilairesRef = editForm.get('degreParenteCasSimilaires')!;
  <div class="mb-3">
    <label class="form-label" for="field_degreParenteCasSimilaires">Degré Parenté Cas Similaires</label>
    <input
      type="text"
      class="form-control"
      name="degreParenteCasSimilaires"
      id="field_degreParenteCasSimilaires"
      data-cy="degreParenteCasSimilaires"
      formControlName="degreParenteCasSimilaires"
    />
    @if (degreParenteCasSimilairesRef.invalid && (degreParenteCasSimilairesRef.dirty || degreParenteCasSimilairesRef.touched)) {
      <div>
        @if (editForm.get('degreParenteCasSimilaires')?.errors?.maxlength) {
          <small class="form-text text-danger">Ce champ doit faire moins de 25 caractères.</small>
        }
      </div>
    }
  </div>

}


<!-- Champ principal -->
<div class="mb-3">
  <label class="form-label" for="field_decesSyndromeHemorragique">Décès Syndrome Hémorragique</label>
  <select
    class="form-control"
    name="decesSyndromeHemorragique"
    formControlName="decesSyndromeHemorragique"
    id="field_decesSyndromeHemorragique"
    data-cy="decesSyndromeHemorragique"
  >
    <option [ngValue]="null"></option>
    @for (ouiNonNP of ouiNonNPValues; track $index) {
      <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
    }
  </select>
</div>

<!-- Condition d'affichage -->
@let decesSHValue = editForm.get('decesSyndromeHemorragique')?.value;
@if (decesSHValue === 'OUI') {

  <div class="mb-3">
    <label class="form-label" for="field_nombreDeces">Nombre Décès</label>
    <input
      type="number"
      class="form-control"
      name="nombreDeces"
      id="field_nombreDeces"
      data-cy="nombreDeces"
      formControlName="nombreDeces"
    />
  </div>

  @let typeHemorragieRef = editForm.get('typeHemorragie')!;
  <div class="mb-3">
    <label class="form-label" for="field_typeHemorragie">Type Hémorragie</label>
    <input
      type="text"
      class="form-control"
      name="typeHemorragie"
      id="field_typeHemorragie"
      data-cy="typeHemorragie"
      formControlName="typeHemorragie"
    />
    @if (typeHemorragieRef.invalid && (typeHemorragieRef.dirty || typeHemorragieRef.touched)) {
      <div>
        @if (editForm.get('typeHemorragie')?.errors?.maxlength) {
          <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
        }
      </div>
    }
  </div>

  @let lienParenteDecesRef = editForm.get('lienParenteDeces')!;
  <div class="mb-3">
    <label class="form-label" for="field_lienParenteDeces">Lien Parenté Décès</label>
    <input
      type="text"
      class="form-control"
      name="lienParenteDeces"
      id="field_lienParenteDeces"
      data-cy="lienParenteDeces"
      formControlName="lienParenteDeces"
    />
    @if (lienParenteDecesRef.invalid && (lienParenteDecesRef.dirty || lienParenteDecesRef.touched)) {
      <div>
        @if (editForm.get('lienParenteDeces')?.errors?.maxlength) {
          <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
        }
      </div>
    }
  </div>

}


        <div class="mb-3">
          <label class="form-label" for="field_enqueteFamiliale">Enquete Familiale</label>
          <select
            class="form-control"
            name="enqueteFamiliale"
            formControlName="enqueteFamiliale"
            id="field_enqueteFamiliale"
            data-cy="enqueteFamiliale"
          >
            <option [ngValue]="null"></option>
            @for (faiteNonFaite of faiteNonFaiteValues; track $index) {
              <option [value]="faiteNonFaite">{{ { null: '', FAITE: 'FAITE', NONFAITE: 'NONFAITE' }[faiteNonFaite] }}</option>
            }
          </select>
        </div>

        @let antecedentsMedicauxRef = editForm.get('antecedentsMedicaux')!;
        <div class="mb-3">
          <label class="form-label" for="field_antecedentsMedicaux">Antecedents Medicaux</label>
          <input
            type="text"
            class="form-control"
            name="antecedentsMedicaux"
            id="field_antecedentsMedicaux"
            data-cy="antecedentsMedicaux"
            formControlName="antecedentsMedicaux"
          />
          @if (antecedentsMedicauxRef.invalid && (antecedentsMedicauxRef.dirty || antecedentsMedicauxRef.touched)) {
            <div>
              @if (editForm.get('antecedentsMedicaux')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
              }
            </div>
          }
        </div>

<!-- Antécédents chirurgicaux -->
<div class="mb-3">
  <label class="form-label" for="field_antecedentsChirurgicaux">Antécédents Chirurgicaux</label>
  <select
    class="form-control"
    name="antecedentsChirurgicaux"
    formControlName="antecedentsChirurgicaux"
    id="field_antecedentsChirurgicaux"
    data-cy="antecedentsChirurgicaux"
  >
    <option [ngValue]="null"></option>
    @for (ouiNonNP of ouiNonNPValues; track $index) {
      <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
    }
  </select>
</div>

<!-- Affichage conditionnel -->
@let antecedentsChirurgicauxValue = editForm.get('antecedentsChirurgicaux')?.value;
@if (antecedentsChirurgicauxValue === 'OUI') {

  @let typeChirurgieRef = editForm.get('typeChirurgie')!;
  <div class="mb-3">
    <label class="form-label" for="field_typeChirurgie">Type Chirurgie</label>
    <input
      type="text"
      class="form-control"
      name="typeChirurgie"
      id="field_typeChirurgie"
      data-cy="typeChirurgie"
      formControlName="typeChirurgie"
    />
    @if (typeChirurgieRef.invalid && (typeChirurgieRef.dirty || typeChirurgieRef.touched)) {
      <div>
        @if (editForm.get('typeChirurgie')?.errors?.maxlength) {
          <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
        }
      </div>
    }
  </div>

  <div class="mb-3">
    <label class="form-label" for="field_complicationHemorragique">Complication Hémorragique</label>
    <select
      class="form-control"
      name="complicationHemorragique"
      formControlName="complicationHemorragique"
      id="field_complicationHemorragique"
      data-cy="complicationHemorragique"
    >
      <option [ngValue]="null"></option>
      @for (ouiNonNP of ouiNonNPValues; track $index) {
        <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
      }
    </select>
  </div>
}



          </div>
  </div>
</div>


          <!-- Accordéon Section 3: Circonstances de découverte -->
<div class="accordion-item">
  <h2 class="accordion-header" id="headingCirconstances">
    <button
      class="accordion-button collapsed"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#collapseCirconstances"
      aria-expanded="false"
      aria-controls="collapseCirconstances"
    >
      Circonstances de découverte
    </button>
  </h2>
  <div
    id="collapseCirconstances"
    class="accordion-collapse collapse"
    aria-labelledby="headingCirconstances"
    data-bs-parent="#ficheAccordion"
  >
    <div class="accordion-body">
      <!-- Contenu pour la section Circonstances de découverte -->

      
<div class="mb-3">
  <label class="form-label fw-bold">1. Manifestations hémorragiques au diagnostic :</label>
</div>



      
        <div class="mb-3">
          <label class="form-label" for="field_agePremierSigneHemorragique">Age Premier Signe Hemorragique</label>
          <input
            type="number"
            class="form-control"
            name="agePremierSigneHemorragique"
            id="field_agePremierSigneHemorragique"
            data-cy="agePremierSigneHemorragique"
            formControlName="agePremierSigneHemorragique"
          />
        </div>

        @let typeSyndromeHemorragiqueRef = editForm.get('typeSyndromeHemorragique')!;
        <div class="mb-3">
          <label class="form-label" for="field_typeSyndromeHemorragique">Type Syndrome Hemorragique</label>
          <input
            type="text"
            class="form-control"
            name="typeSyndromeHemorragique"
            id="field_typeSyndromeHemorragique"
            data-cy="typeSyndromeHemorragique"
            formControlName="typeSyndromeHemorragique"
          />
          @if (typeSyndromeHemorragiqueRef.invalid && (typeSyndromeHemorragiqueRef.dirty || typeSyndromeHemorragiqueRef.touched)) {
            <div>
              @if (editForm.get('typeSyndromeHemorragique')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_ageDiagnostic">Age Diagnostic</label>
          <input
            type="number"
            class="form-control"
            name="ageDiagnostic"
            id="field_ageDiagnostic"
            data-cy="ageDiagnostic"
            formControlName="ageDiagnostic"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_decouverteFortuite">Decouverte Fortuite</label>
          <input
            type="checkbox"
            class="form-check"
            name="decouverteFortuite"
            id="field_decouverteFortuite"
            data-cy="decouverteFortuite"
            formControlName="decouverteFortuite"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_enqueteFamilialeBool">Enquete Familiale Bool</label>
          <input
            type="checkbox"
            class="form-check"
            name="enqueteFamilialeBool"
            id="field_enqueteFamilialeBool"
            data-cy="enqueteFamilialeBool"
            formControlName="enqueteFamilialeBool"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_explorationSyndromeHemorragique">Exploration Syndrome Hemorragique</label>
          <input
            type="checkbox"
            class="form-check"
            name="explorationSyndromeHemorragique"
            id="field_explorationSyndromeHemorragique"
            data-cy="explorationSyndromeHemorragique"
            formControlName="explorationSyndromeHemorragique"
          />
        </div>

        @let typeCirconstanceDiagnosticRef = editForm.get('typeCirconstanceDiagnostic')!;
        <div class="mb-3">
          <label class="form-label" for="field_typeCirconstanceDiagnostic">Type Circonstance Diagnostic</label>
          <input
            type="text"
            class="form-control"
            name="typeCirconstanceDiagnostic"
            id="field_typeCirconstanceDiagnostic"
            data-cy="typeCirconstanceDiagnostic"
            formControlName="typeCirconstanceDiagnostic"
          />
          @if (typeCirconstanceDiagnosticRef.invalid && (typeCirconstanceDiagnosticRef.dirty || typeCirconstanceDiagnosticRef.touched)) {
            <div>
              @if (editForm.get('typeCirconstanceDiagnostic')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
              }
            </div>
          }
        </div>

      <div class="mb-3">
  <label class="form-label fw-bold">2. Autres manifestations cliniques au diagnostic :</label>
</div>


        <div class="mb-3">
          <label class="form-label" for="field_eczema">Eczema</label>
          <select class="form-control" name="eczema" formControlName="eczema" id="field_eczema" data-cy="eczema">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_syndromeDysmorphique">Syndrome Dysmorphique</label>
          <select
            class="form-control"
            name="syndromeDysmorphique"
            formControlName="syndromeDysmorphique"
            id="field_syndromeDysmorphique"
            data-cy="syndromeDysmorphique"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_albinisme">Albinisme</label>
          <select class="form-control" name="albinisme" formControlName="albinisme" id="field_albinisme" data-cy="albinisme">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_arthrogrypose">Arthrogrypose</label>
          <select
            class="form-control"
            name="arthrogrypose"
            formControlName="arthrogrypose"
            id="field_arthrogrypose"
            data-cy="arthrogrypose"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>


    </div>
  </div>
</div>

<!-- Accordéon Section 4: Biologie au moment du diagnostic -->
<div class="accordion-item">
  <h2 class="accordion-header" id="headingBiologie">
    <button
      class="accordion-button collapsed"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#collapseBiologie"
      aria-expanded="false"
      aria-controls="collapseBiologie"
    >
      Biologie 
    </button>
  </h2>
  <div
    id="collapseBiologie"
    class="accordion-collapse collapse"
    aria-labelledby="headingBiologie"
    data-bs-parent="#ficheAccordion"
  >
    <div class="accordion-body">
      <!-- Contenu pour la section Biologie -->

      <div class="mb-3">
  <label class="form-label fw-bold">1. Bilan d’hémostase :</label>
</div>

      
        <div class="mb-3">
          <label class="form-label" for="field_gb">Gb</label>
          <input type="number" class="form-control" name="gb" id="field_gb" data-cy="gb" formControlName="gb" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hb">Hb</label>
          <input type="number" class="form-control" name="hb" id="field_hb" data-cy="hb" formControlName="hb" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_vgm">Vgm</label>
          <input type="number" class="form-control" name="vgm" id="field_vgm" data-cy="vgm" formControlName="vgm" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_tcmh">Tcmh</label>
          <input type="number" class="form-control" name="tcmh" id="field_tcmh" data-cy="tcmh" formControlName="tcmh" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_plaquettes">Plaquettes</label>
          <input
            type="number"
            class="form-control"
            name="plaquettes"
            id="field_plaquettes"
            data-cy="plaquettes"
            formControlName="plaquettes"
          />
        </div>

        @let frottisSanguinRef = editForm.get('frottisSanguin')!;
        <div class="mb-3">
          <label class="form-label" for="field_frottisSanguin">Frottis Sanguin</label>
          <input
            type="text"
            class="form-control"
            name="frottisSanguin"
            id="field_frottisSanguin"
            data-cy="frottisSanguin"
            formControlName="frottisSanguin"
          />
          @if (frottisSanguinRef.invalid && (frottisSanguinRef.dirty || frottisSanguinRef.touched)) {
            <div>
              @if (editForm.get('frottisSanguin')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_ts">Ts</label>
          <input type="number" class="form-control" name="ts" id="field_ts" data-cy="ts" formControlName="ts" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_toPfa">To Pfa</label>
          <input type="number" class="form-control" name="toPfa" id="field_toPfa" data-cy="toPfa" formControlName="toPfa" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_toPfa100ColEpi">To Pfa 100 Col Epi</label>
          <input
            type="number"
            class="form-control"
            name="toPfa100ColEpi"
            id="field_toPfa100ColEpi"
            data-cy="toPfa100ColEpi"
            formControlName="toPfa100ColEpi"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_toPfa100ColAdp">To Pfa 100 Col Adp</label>
          <input
            type="number"
            class="form-control"
            name="toPfa100ColAdp"
            id="field_toPfa100ColAdp"
            data-cy="toPfa100ColAdp"
            formControlName="toPfa100ColAdp"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_tp">Tp</label>
          <input type="number" class="form-control" name="tp" id="field_tp" data-cy="tp" formControlName="tp" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_tca">Tca</label>
          <input type="number" class="form-control" name="tca" id="field_tca" data-cy="tca" formControlName="tca" />
        </div>

      <div class="mb-3">
  <label class="form-label fw-bold">2. Examens spécialisés :</label>
</div>


        <div class="mb-3">
          <label class="form-label" for="field_aggregometriePlaquettaire">Aggregometrie Plaquettaire</label>
          <select
            class="form-control"
            name="aggregometriePlaquettaire"
            formControlName="aggregometriePlaquettaire"
            id="field_aggregometriePlaquettaire"
            data-cy="aggregometriePlaquettaire"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        @let resultatAgregometrieRef = editForm.get('resultatAgregometrie')!;
        <div class="mb-3">
          <label class="form-label" for="field_resultatAgregometrie">Resultat Agregometrie</label>
          <input
            type="text"
            class="form-control"
            name="resultatAgregometrie"
            id="field_resultatAgregometrie"
            data-cy="resultatAgregometrie"
            formControlName="resultatAgregometrie"
          />
          @if (resultatAgregometrieRef.invalid && (resultatAgregometrieRef.dirty || resultatAgregometrieRef.touched)) {
            <div>
              @if (editForm.get('resultatAgregometrie')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_cmf">Cmf</label>
          <select class="form-control" name="cmf" formControlName="cmf" id="field_cmf" data-cy="cmf">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        @let resultatCmfRef = editForm.get('resultatCmf')!;
        <div class="mb-3">
          <label class="form-label" for="field_resultatCmf">Resultat Cmf</label>
          <input
            type="text"
            class="form-control"
            name="resultatCmf"
            id="field_resultatCmf"
            data-cy="resultatCmf"
            formControlName="resultatCmf"
          />
          @if (resultatCmfRef.invalid && (resultatCmfRef.dirty || resultatCmfRef.touched)) {
            <div>
              @if (editForm.get('resultatCmf')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_dosageFvwAg">Dosage Fvw Ag</label>
          <input
            type="number"
            class="form-control"
            name="dosageFvwAg"
            id="field_dosageFvwAg"
            data-cy="dosageFvwAg"
            formControlName="dosageFvwAg"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_dosageFvwRco">Dosage Fvw Rco</label>
          <input
            type="number"
            class="form-control"
            name="dosageFvwRco"
            id="field_dosageFvwRco"
            data-cy="dosageFvwRco"
            formControlName="dosageFvwRco"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_etudeGenetique">Etude Genetique</label>
          <select
            class="form-control"
            name="etudeGenetique"
            formControlName="etudeGenetique"
            id="field_etudeGenetique"
            data-cy="etudeGenetique"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        @let resultatEtudeGenetiqueRef = editForm.get('resultatEtudeGenetique')!;
        <div class="mb-3">
          <label class="form-label" for="field_resultatEtudeGenetique">Resultat Etude Genetique</label>
          <input
            type="text"
            class="form-control"
            name="resultatEtudeGenetique"
            id="field_resultatEtudeGenetique"
            data-cy="resultatEtudeGenetique"
            formControlName="resultatEtudeGenetique"
          />
          @if (resultatEtudeGenetiqueRef.invalid && (resultatEtudeGenetiqueRef.dirty || resultatEtudeGenetiqueRef.touched)) {
            <div>
              @if (editForm.get('resultatEtudeGenetique')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
              }
            </div>
          }
        </div>
<div class="mb-3">
  <label class="form-label fw-bold">3. Diagnostic retenu :</label>
</div>

        <div class="mb-3">
          <label class="form-label" for="field_thrombasthenieGlanzmann">Thrombasthenie Glanzmann</label>
          <input
            type="checkbox"
            class="form-check"
            name="thrombasthenieGlanzmann"
            id="field_thrombasthenieGlanzmann"
            data-cy="thrombasthenieGlanzmann"
            formControlName="thrombasthenieGlanzmann"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_maladieBernardSoulier">Maladie Bernard Soulier</label>
          <input
            type="checkbox"
            class="form-check"
            name="maladieBernardSoulier"
            id="field_maladieBernardSoulier"
            data-cy="maladieBernardSoulier"
            formControlName="maladieBernardSoulier"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_autreThrombopathie">Autre Thrombopathie</label>
          <input
            type="checkbox"
            class="form-check"
            name="autreThrombopathie"
            id="field_autreThrombopathie"
            data-cy="autreThrombopathie"
            formControlName="autreThrombopathie"
          />
        </div>

        @let autreThrombopathieDetailsRef = editForm.get('autreThrombopathieDetails')!;
        <div class="mb-3">
          <label class="form-label" for="field_autreThrombopathieDetails">Autre Thrombopathie Details</label>
          <input
            type="text"
            class="form-control"
            name="autreThrombopathieDetails"
            id="field_autreThrombopathieDetails"
            data-cy="autreThrombopathieDetails"
            formControlName="autreThrombopathieDetails"
          />
          @if (autreThrombopathieDetailsRef.invalid && (autreThrombopathieDetailsRef.dirty || autreThrombopathieDetailsRef.touched)) {
            <div>
              @if (editForm.get('autreThrombopathieDetails')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
              }
            </div>
          }
        </div>



          </div>
  </div>
</div>

<!-- Accordéon Section 5: MANIFESTATIONS CLINIQUES -->
<div class="accordion-item">
  <h2 class="accordion-header" id="headingManifestationsCliniques">
    <button
      class="accordion-button collapsed"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#collapseManifestationsCliniques"
      aria-expanded="false"
      aria-controls="collapseManifestationsCliniques"
    >
      Manifestations Cliniques
    </button>
  </h2>
  <div
    id="collapseManifestationsCliniques"
    class="accordion-collapse collapse"
    aria-labelledby="headingManifestationsCliniques"
    data-bs-parent="#ficheAccordion"
  >
    <div class="accordion-body">
      <!-- Contenu pour la section MANIFESTATIONS CLINIQUES -->

        <div class="mb-3">
          <label class="form-label" for="field_ecchymose">Ecchymose</label>
          <select class="form-control" name="ecchymose" formControlName="ecchymose" id="field_ecchymose" data-cy="ecchymose">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_typeEcchymose">Type Ecchymose</label>
          <select
            class="form-control"
            name="typeEcchymose"
            formControlName="typeEcchymose"
            id="field_typeEcchymose"
            data-cy="typeEcchymose"
          >
            <option [ngValue]="null"></option>
            @for (typeManifestation of typeManifestationValues; track $index) {
              <option [value]="typeManifestation">{{ { null: '', SPONTANE: 'SPONTANE', PROVOQUE: 'PROVOQUE' }[typeManifestation] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_gingivorragies">Gingivorragies</label>
          <select
            class="form-control"
            name="gingivorragies"
            formControlName="gingivorragies"
            id="field_gingivorragies"
            data-cy="gingivorragies"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_typeGingivorragies">Type Gingivorragies</label>
          <select
            class="form-control"
            name="typeGingivorragies"
            formControlName="typeGingivorragies"
            id="field_typeGingivorragies"
            data-cy="typeGingivorragies"
          >
            <option [ngValue]="null"></option>
            @for (typeManifestation of typeManifestationValues; track $index) {
              <option [value]="typeManifestation">{{ { null: '', SPONTANE: 'SPONTANE', PROVOQUE: 'PROVOQUE' }[typeManifestation] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_epistaxis">Epistaxis</label>
          <select class="form-control" name="epistaxis" formControlName="epistaxis" id="field_epistaxis" data-cy="epistaxis">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_typeEpistaxis">Type Epistaxis</label>
          <select
            class="form-control"
            name="typeEpistaxis"
            formControlName="typeEpistaxis"
            id="field_typeEpistaxis"
            data-cy="typeEpistaxis"
          >
            <option [ngValue]="null"></option>
            @for (typeManifestation of typeManifestationValues; track $index) {
              <option [value]="typeManifestation">{{ { null: '', SPONTANE: 'SPONTANE', PROVOQUE: 'PROVOQUE' }[typeManifestation] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hematome">Hematome</label>
          <select class="form-control" name="hematome" formControlName="hematome" id="field_hematome" data-cy="hematome">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_typeHematome">Type Hematome</label>
          <select class="form-control" name="typeHematome" formControlName="typeHematome" id="field_typeHematome" data-cy="typeHematome">
            <option [ngValue]="null"></option>
            @for (typeManifestation of typeManifestationValues; track $index) {
              <option [value]="typeManifestation">{{ { null: '', SPONTANE: 'SPONTANE', PROVOQUE: 'PROVOQUE' }[typeManifestation] }}</option>
            }
          </select>
        </div>

        @let siegelHematomeRef = editForm.get('siegelHematome')!;
        <div class="mb-3">
          <label class="form-label" for="field_siegelHematome">Siegel Hematome</label>
          <input
            type="text"
            class="form-control"
            name="siegelHematome"
            id="field_siegelHematome"
            data-cy="siegelHematome"
            formControlName="siegelHematome"
          />
          @if (siegelHematomeRef.invalid && (siegelHematomeRef.dirty || siegelHematomeRef.touched)) {
            <div>
              @if (editForm.get('siegelHematome')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_menoMetrorragies">Meno Metrorragies</label>
          <select
            class="form-control"
            name="menoMetrorragies"
            formControlName="menoMetrorragies"
            id="field_menoMetrorragies"
            data-cy="menoMetrorragies"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_frequenceMenoMetrorragies">Frequence Meno Metrorragies</label>
          <input
            type="number"
            class="form-control"
            name="frequenceMenoMetrorragies"
            id="field_frequenceMenoMetrorragies"
            data-cy="frequenceMenoMetrorragies"
            formControlName="frequenceMenoMetrorragies"
          />
        </div>

        @let severiteMenoMetrorragiesRef = editForm.get('severiteMenoMetrorragies')!;
        <div class="mb-3">
          <label class="form-label" for="field_severiteMenoMetrorragies">Severite Meno Metrorragies</label>
          <input
            type="text"
            class="form-control"
            name="severiteMenoMetrorragies"
            id="field_severiteMenoMetrorragies"
            data-cy="severiteMenoMetrorragies"
            formControlName="severiteMenoMetrorragies"
          />
          @if (severiteMenoMetrorragiesRef.invalid && (severiteMenoMetrorragiesRef.dirty || severiteMenoMetrorragiesRef.touched)) {
            <div>
              @if (editForm.get('severiteMenoMetrorragies')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_explorationMenoMetrorragies">Exploration Meno Metrorragies</label>
          <select
            class="form-control"
            name="explorationMenoMetrorragies"
            formControlName="explorationMenoMetrorragies"
            id="field_explorationMenoMetrorragies"
            data-cy="explorationMenoMetrorragies"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        @let typeLesionSousJacenteRef = editForm.get('typeLesionSousJacente')!;
        <div class="mb-3">
          <label class="form-label" for="field_typeLesionSousJacente">Type Lesion Sous Jacente</label>
          <input
            type="text"
            class="form-control"
            name="typeLesionSousJacente"
            id="field_typeLesionSousJacente"
            data-cy="typeLesionSousJacente"
            formControlName="typeLesionSousJacente"
          />
          @if (typeLesionSousJacenteRef.invalid && (typeLesionSousJacenteRef.dirty || typeLesionSousJacenteRef.touched)) {
            <div>
              @if (editForm.get('typeLesionSousJacente')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemorragieVisceres">Hemorragie Visceres</label>
          <select
            class="form-control"
            name="hemorragieVisceres"
            formControlName="hemorragieVisceres"
            id="field_hemorragieVisceres"
            data-cy="hemorragieVisceres"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemorragieDigestiveHaute">Hemorragie Digestive Haute</label>
          <input
            type="checkbox"
            class="form-check"
            name="hemorragieDigestiveHaute"
            id="field_hemorragieDigestiveHaute"
            data-cy="hemorragieDigestiveHaute"
            formControlName="hemorragieDigestiveHaute"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hemorragieDigestiveBasse">Hemorragie Digestive Basse</label>
          <input
            type="checkbox"
            class="form-check"
            name="hemorragieDigestiveBasse"
            id="field_hemorragieDigestiveBasse"
            data-cy="hemorragieDigestiveBasse"
            formControlName="hemorragieDigestiveBasse"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hematurie">Hematurie</label>
          <input type="checkbox" class="form-check" name="hematurie" id="field_hematurie" data-cy="hematurie" formControlName="hematurie" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_explorationHemorragieVisceres">Exploration Hemorragie Visceres</label>
          <select
            class="form-control"
            name="explorationHemorragieVisceres"
            formControlName="explorationHemorragieVisceres"
            id="field_explorationHemorragieVisceres"
            data-cy="explorationHemorragieVisceres"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        @let lesionSousJacenteVisceresRef = editForm.get('lesionSousJacenteVisceres')!;
        <div class="mb-3">
          <label class="form-label" for="field_lesionSousJacenteVisceres">Lesion Sous Jacente Visceres</label>
          <input
            type="text"
            class="form-control"
            name="lesionSousJacenteVisceres"
            id="field_lesionSousJacenteVisceres"
            data-cy="lesionSousJacenteVisceres"
            formControlName="lesionSousJacenteVisceres"
          />
          @if (lesionSousJacenteVisceresRef.invalid && (lesionSousJacenteVisceresRef.dirty || lesionSousJacenteVisceresRef.touched)) {
            <div>
              @if (editForm.get('lesionSousJacenteVisceres')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_interventionChirurgicale">Intervention Chirurgicale</label>
          <select
            class="form-control"
            name="interventionChirurgicale"
            formControlName="interventionChirurgicale"
            id="field_interventionChirurgicale"
            data-cy="interventionChirurgicale"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        @let typeInterventionChirurgicaleRef = editForm.get('typeInterventionChirurgicale')!;
        <div class="mb-3">
          <label class="form-label" for="field_typeInterventionChirurgicale">Type Intervention Chirurgicale</label>
          <input
            type="text"
            class="form-control"
            name="typeInterventionChirurgicale"
            id="field_typeInterventionChirurgicale"
            data-cy="typeInterventionChirurgicale"
            formControlName="typeInterventionChirurgicale"
          />
          @if (
            typeInterventionChirurgicaleRef.invalid && (typeInterventionChirurgicaleRef.dirty || typeInterventionChirurgicaleRef.touched)
          ) {
            <div>
              @if (editForm.get('typeInterventionChirurgicale')?.errors?.maxlength) {
                <small class="form-text text-danger">Ce champ doit faire moins de 255 caractères.</small>
              }
            </div>
          }
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_hematomesCerebrales">Hematomes Cerebrales</label>
          <input
            type="checkbox"
            class="form-check"
            name="hematomesCerebrales"
            id="field_hematomesCerebrales"
            data-cy="hematomesCerebrales"
            formControlName="hematomesCerebrales"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_edcHemorragique">Edc Hemorragique</label>
          <input
            type="checkbox"
            class="form-check"
            name="edcHemorragique"
            id="field_edcHemorragique"
            data-cy="edcHemorragique"
            formControlName="edcHemorragique"
          />
        </div>


    </div>
  </div>
</div>

<!-- Accordéon Section 5: Prise en charge thérapeutique -->
<div class="accordion-item">
  <h2 class="accordion-header" id="headingPriseEnCharge">
    <button
      class="accordion-button collapsed"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#collapsePriseEnCharge"
      aria-expanded="false"
      aria-controls="collapsePriseEnCharge"
    >
      Prise en charge thérapeutique
    </button>
  </h2>
  <div
    id="collapsePriseEnCharge"
    class="accordion-collapse collapse"
    aria-labelledby="headingPriseEnCharge"
    data-bs-parent="#ficheAccordion"
  >
    <div class="accordion-body">
      <!-- Contenu pour la section Prise en charge thérapeutique -->

<div class="mb-3">
  <label class="form-label fw-bold">a. Le traitement substitutif :</label>
</div>

      

        <div class="mb-3">
          <label class="form-label" for="field_transfusionCps">Transfusion Cps</label>
          <select
            class="form-control"
            name="transfusionCps"
            formControlName="transfusionCps"
            id="field_transfusionCps"
            data-cy="transfusionCps"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_facteurVIIRecombinant">Facteur VII Recombinant</label>
          <select
            class="form-control"
            name="facteurVIIRecombinant"
            formControlName="facteurVIIRecombinant"
            id="field_facteurVIIRecombinant"
            data-cy="facteurVIIRecombinant"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_dicynone">Dicynone</label>
          <select class="form-control" name="dicynone" formControlName="dicynone" id="field_dicynone" data-cy="dicynone">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_exacyl">Exacyl</label>
          <select class="form-control" name="exacyl" formControlName="exacyl" id="field_exacyl" data-cy="exacyl">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_traitementOestroprogestatif">Traitement Oestroprogestatif</label>
          <select
            class="form-control"
            name="traitementOestroprogestatif"
            formControlName="traitementOestroprogestatif"
            id="field_traitementOestroprogestatif"
            data-cy="traitementOestroprogestatif"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_mechage">Mechage</label>
          <select class="form-control" name="mechage" formControlName="mechage" id="field_mechage" data-cy="mechage">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_transfusionCgr">Transfusion Cgr</label>
          <select
            class="form-control"
            name="transfusionCgr"
            formControlName="transfusionCgr"
            id="field_transfusionCgr"
            data-cy="transfusionCgr"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_traitementMartial">Traitement Martial</label>
          <select
            class="form-control"
            name="traitementMartial"
            formControlName="traitementMartial"
            id="field_traitementMartial"
            data-cy="traitementMartial"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_thrombose">Thrombose</label>
          <select class="form-control" name="thrombose" formControlName="thrombose" id="field_thrombose" data-cy="thrombose">
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label" for="field_alloImmunisationHLA">Allo Immunisation HLA</label>
          <select
            class="form-control"
            name="alloImmunisationHLA"
            formControlName="alloImmunisationHLA"
            id="field_alloImmunisationHLA"
            data-cy="alloImmunisationHLA"
          >
            <option [ngValue]="null"></option>
            @for (ouiNonNP of ouiNonNPValues; track $index) {
              <option [value]="ouiNonNP">{{ { null: '', OUI: 'OUI', NON: 'NON', NP: 'NP' }[ouiNonNP] }}</option>
            }
          </select>
        </div>
      </div>

        
                <!-- Champs pour les sections  -->
              </div>
            </div>
          </div>
        </div>


      <div>
        <button type="button" id="cancel-save" data-cy="entityCreateCancelButton" class="btn btn-secondary" (click)="previousState()">
          <fa-icon icon="ban"></fa-icon>&nbsp;<span>Annuler</span>
        </button>

        <button
          type="submit"
          id="save-entity"
          data-cy="entityCreateSaveButton"
          [disabled]="editForm.invalid || isSaving"
          class="btn btn-primary"
        >
          <fa-icon icon="save"></fa-icon>&nbsp;<span>Sauvegarder</span>
        </button>
      </div>
    </form>
  </div>
</div>
